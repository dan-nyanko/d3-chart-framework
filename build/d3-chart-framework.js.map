{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 5111dadb7a3afbe096fc","webpack:///./src/index.js","webpack:///./src/Axes.js","webpack:///./src/Grid.js","webpack:///external \"d3\"","webpack:///external \"underscore\"","webpack:///external \"moment\"","webpack:///./src/Errors.js","webpack:///./src/Group.js","webpack:///./src/Node.js","webpack:///./src/Plot.js","webpack:///./src/Tooltip.js","webpack:///./src/Zoom.js","webpack:///./src/ScatterPlot.js","webpack:///./src/Heapsort.js","webpack:///./src/HeapsortImmutable.js"],"names":["default","InvalidNodeError","InvalidGroupError","d3","require","_","moment","getDatetimeUnit","min","max","diff","unit","Axes","plot","options","x","title","type","y","grid","filter","initialized","initialMinMax","currentMinMax","init","xDomain","yDomain","xScale","scaleTime","domain","range","getWidth","nice","scaleLinear","xAxis","axisBottom","scale","ticks","tickFormat","timeFormat","formatDate","xGroup","container","append","attr","margins","left","getHeight","call","selectAll","style","width","right","bottom","text","yScale","yAxis","axisLeft","yGroup","height","top","data","xMin","xMax","minDatetime","pluck","x2","length","maxDatetime","maxNumeric","yMin","yMax","addFilter","d","x1","Date","getTime","y1","y2","hasOwnProperty","newMinMax","remove","setDomain","zoomArea","trans","transition","duration","asDays","m","l","String","split","p","Math","pow","add","valueOf","subtract","module","exports","Grid","axes","xGrid","tickSize","insert","yGrid","message","message_","Error","genId","prefix","random","toString","substr","Group","id","onEnter","bind","onUpdate","onExit","nodes_","addGroup","Object","values","node","group","filtered","applyFilters","filteredLen","nodes","enter","detached","each","update","exit","select","document","createElementNS","namespaces","svg","filters","filters_","getNodes","valid","keys","i","keysLen","key","f","removeLayer","Node","meta","o","MINIMUM_PLOT_HEIGHT","Plot","drawn","groups_","setDimensions","root","containerID","viewBoxWidth","viewBoxHeight","svgContainerClass","tooltip","zoomEnabled","zoom","groups","getElementById","offsetWidth","getGroupsNodes","Array","setInitialMinMax","shouldSetInitialMinMax","mergeGroups","getGroupsSize","showWarn","defaultGroup","size","removeWarn","getGroups","find","g","forEach","addNode","notMerged","hasNewGroup","k","idx","indexOf","splice","removeGroup","warn","resizeHandler","shouldFilter","reduce","prev","nextObj","assign","_domain","prevArr","concat","name","fn","Tooltip","tooltipOpts","template","opacity","element","html","box","getBoundingClientRect","window","innerWidth","floor","MINIMUM_ZOOM_THRESHOLD","Zoom","bandPos","drag","zoomGroup","zoomBand","zoomOverlay","self","on","pos","mouse","dragStart","ondrag","zoomX","abs","zoomY","ondragend","invert","draw","reset","ScatterPlot","resizeEnabled","resize","debounce","addEventListener","removeEventListener","Heapsort","array","index","heapSize","cmp","largest","temp","heapify","comparator","buildMaxHeap","a","b","HeapsortImmutable","list","h","state","listItem","slice","reduceRight","reducer","parentIndex","getParentIndex","swap","map","item","n"],"mappings":"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","file":"d3-chart-framework.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"d3\"), require(\"underscore\"), require(\"moment\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"d3-chart-framework\", [\"d3\", \"underscore\", \"moment\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"d3-chart-framework\"] = factory(require(\"d3\"), require(\"underscore\"), require(\"moment\"));\n\telse\n\t\troot[\"d3-chart-framework\"] = factory(root[\"d3\"], root[\"underscore\"], root[\"moment\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_5__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5111dadb7a3afbe096fc","export { default as Axes } from './Axes';\nexport { InvalidNodeError, InvalidGroupError } from './Errors';\nexport { default as Grid } from './Grid';\nexport { default as Group } from './Group';\nexport { default as Node } from './Node';\nexport { default as Plot } from './Plot';\nexport { default as ScatterPlot } from './ScatterPlot';\nexport { default as Tooltip } from './Tooltip';\nexport { default as Zoom } from './Zoom';\nexport { default as Heapsort } from './Heapsort';\nexport { default as HeapsortImmutable } from './HeapsortImmutable';\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","const d3 = require('d3');\nconst _ = require('underscore');\nconst moment = require('moment');\n\nimport Grid from './Grid';\n\n/*\n* getDatetimeUnit - determine the unit of time for padding the axis\n* @param {object} min, the min moment datetime object\n* @param {object} max, the max moment datetime object\n* @return {string} the datetime unit {day, week, month}\n*/\nfunction getDatetimeUnit(min, max) {\n  const diff = max.diff(min, 'days');\n  let unit = 'month';\n  if (diff <= 14) {\n    unit = 'day';\n  } else if (diff > 14 && diff <= 183) {\n    unit = 'week';\n  }\n  return unit;\n}\n\nclass Axes {\n  /*\n  * Axes\n  * constructs 2d cartesian axes, appends to the container SVG element of the plot\n  * @param {object} plot, the plot to append the axis\n  * @param {object} options, the properties for the axis\n  * @param {boolean} grid, should the grid be displayed?\n  * X axis properties\n  * @param {object} options.axes.x, the properties for x axis\n  * @param {string} options.axes.x.title, the title of the x axis\n  * @param {string} options.axes.x.type, the datatype of the x axis {numeric, datetime}\n  * Y axis properties\n  * @param {object} options.axes.y, the properties for y axis\n  * @param {string} options.axes.y.title, the title of the y axis\n  * @param {string} options.axes.y.type, the datatype of the y axis {numeric, datetime}\n  * @returns {object} this, returns self\n  * example usage:\n  *  with an instance of a plot:\n  ```\n  axes = new Axes(plot, {\n    axes: {\n      grid: true,\n      x: {\n        title: 'Time',\n        type: 'datetime',\n        minMax: [1443371126, 1474993537]\n      },\n      y: {\n        title: 'Incidents',\n        type: 'numeric',\n        minMax: [0, 100]\n      },\n    }\n  })\n  ```\n  */\n  constructor(plot, options) {\n    this.plot = plot;\n    this.options = options || {x: {title: 'x', type: 'numeric'}, y: {title: 'y', type: 'numeric'}, grid: true, filter: true};\n    this.initialized = false;\n    this.initialMinMax = [[0, 0], [0, 0]];\n    this.currentMinMax = [[0, 0], [0, 0]];\n    this.init();\n  }\n\n  /*\n  * init - initialize the plot x,y axes\n  * @param {array} xDomain, the zoom xDomain or undefined\n  * @param {array} yDomain, the zoom yDomain or undefined\n  */\n  init(xDomain, yDomain) {\n    if (this.options.x.type === 'datetime') {\n      if (xDomain) {\n        this.xScale = d3.scaleTime().domain(xDomain).range([0, this.plot.getWidth()]).nice();\n      } else {\n        this.xScale = d3.scaleTime().domain(this.currentMinMax[0]).range([0, this.plot.getWidth()]).nice();\n      }\n    } else {\n      if (xDomain) {\n        this.xScale = d3.scaleLinear().domain(xDomain).range([0, this.plot.getWidth()]);\n      } else {\n        this.xScale = d3.scaleLinear().domain(this.currentMinMax[0]).range([0, this.plot.getWidth()]);\n      }\n    }\n    if (this.options.x.type === 'datetime') {\n      this.xAxis = d3.axisBottom().scale(this.xScale).ticks(10).tickFormat(d3.timeFormat(this.formatDate()));\n    } else {\n      this.xAxis = d3.axisBottom().scale(this.xScale).ticks(10);\n    }\n    if (this.options.x.type === 'datetime') {\n      this.xGroup = this.plot.container.append('g').attr('class', 'x d3cf-axis').attr('transform', `translate(${this.plot.margins.left}, ${this.plot.getHeight()})`).call(this.xAxis);\n      this.xGroup.selectAll('text').style('text-anchor', 'end').attr('dx', '-.8em').attr('dy', '.15em').attr('transform', () => {\n        return 'rotate(-65)';\n      });\n      this.xGroup.append('text').attr('class', 'd3cf-axis-label').attr('dx', (this.plot.width / 2) - ((this.plot.margins.right + this.plot.margins.left) / 2)).attr('dy', this.plot.margins.bottom + 30).style('text-anchor', 'middle').text(this.options.x.title);\n    } else {\n      this.xGroup = this.plot.container.append('g').attr('class', 'd3cf-axis').attr('transform', `translate(${this.plot.margins.left}, ${this.plot.getHeight()})`).call(this.xAxis);\n      this.xGroup.append('text').attr('dx', (this.plot.width / 2) - ((this.plot.margins.right + this.plot.margins.left) / 2)).attr('dy', this.plot.margins.bottom).attr('class', 'd3cf-axis-label').style('text-anchor', 'middle').text(this.options.x.title);\n    }\n    if (yDomain) {\n      this.yScale = d3.scaleLinear().domain(yDomain).range([this.plot.getHeight(), 0]);\n    } else {\n      this.yScale = d3.scaleLinear().domain(this.currentMinMax[1]).range([this.plot.getHeight(), 0]);\n    }\n    this.yAxis = d3.axisLeft().scale(this.yScale);\n    this.yGroup = this.plot.container.append('g').attr('class', 'y d3cf-axis').attr('transform', `translate(${this.plot.margins.left}, 0)`).call(this.yAxis);\n    this.yGroup.append('text').attr('transform', 'rotate(-90)').attr('dx', -(this.plot.height / 2) + ((this.plot.margins.top + this.plot.margins.bottom) / 2)).attr('dy', -this.plot.margins.left).attr('class', 'd3cf-axis-label').style('text-anchor', 'middle').text(this.options.y.title);\n    if (this.options.grid) {\n       this.grid = new Grid(this, this.plot);\n    }\n  }\n\n  /*\n  * setDomain - sets the x, y domains based on the passed in data\n  * @param {array} data, an array of {object} for each marker\n  */\n  setDomain(data) {\n    let xMin = 0;\n    let xMax = 0;\n    if (this.options.x.type === 'datetime') {\n      xMin = Axes.minDatetime(_.pluck(data, 'x1'));\n      const x2 = _.pluck(data, 'x2');\n      if (x2.length > 0) {\n        xMax = Axes.maxDatetime(_.pluck(data, 'x2'));\n      } else {\n        xMax = Axes.maxDatetime(_.pluck(data, 'x1'));\n      }\n    } else {\n      const x2 = _.pluck(data, 'x2');\n      if (x2.length > 0) {\n        xMax = Axes.maxNumeric(_.pluck(data, 'x2'));\n      } else {\n        xMax = Axes.maxNumeric(_.pluck(data, 'x1'));\n      }\n    }\n    const yMin = 0;\n    const yMax = Axes.maxNumeric(_.pluck(data, 'y1'));\n    this.xScale.domain([xMin, xMax]);\n    this.yScale.domain([yMin, yMax]);\n    if (this.initialized === false) {\n      this.initialMinMax = [[xMin, xMax], [yMin, yMax]];\n      if (this.options.filter) {\n        this.plot.addFilter('_domain', (d) => {\n          // TODO: should this scope be the Plot or the Axes?\n          let x1 = this.xScale.domain()[0];\n          if (x1 instanceof Date) {\n            x1 = x1.getTime();\n          }\n          let x2 = this.xScale.domain()[1];\n          if (x2 instanceof Date) {\n            x2 = x2.getTime();\n          }\n          const y1 = this.yScale.domain()[0];\n          const y2 = this.yScale.domain()[1];\n          if (d.hasOwnProperty('x2')) {\n            if ((d.x1 >= x1 && d.x2 <= x2) && (d.y1 >= y1 && d.y1 <= y2)) {\n              return d;\n            }\n          } else {\n            if ((d.x1 >= x1 && d.x2 <= x2) && (d.y1 >= y1 && d.y1 <= y2)) {\n              return d;\n            }\n          }\n        });\n      }\n    } else {\n      this.currentMinMax = [[xMin, xMax], [yMin, yMax]];\n    }\n    this.initialized = true;\n  }\n\n  /*\n  * setDomain - sets the x, y domains based on the passed in data\n  * @note this will overwrite the original x,y minMax options to the plot\n  * @param {array} data, an array of {object} for each marker\n  */\n  setInitialMinMax(newMinMax) {\n    this.initialMinMax = newMinMax;\n  }\n\n  /*\n  * update - update the x,y axes using the zoom domain\n  * @param {array} data, an array of {object} for each marker\n  */\n  update(data) {\n    this.remove();\n    if (data) {\n      this.setDomain(data);\n    }\n    this.init(this.xScale.domain(), this.yScale.domain());\n    return this;\n  }\n\n  /*\n  * reset - resets the x,y axes back to the original domain\n  */\n  reset() {\n    this.remove();\n    this.init(this.initialMinMax[0], this.initialMinMax[1]);\n    return this;\n  }\n\n  /*\n  * zoom - zooms the x,y axes based on the zoomArea object\n  * @param {object} zoomArea, an object containing a bounding box of x,y coordinates\n  */\n  zoom(zoomArea) {\n    if (zoomArea.x1 > zoomArea.x2) {\n      this.xScale.domain([zoomArea.x2, zoomArea.x1]);\n    } else {\n      this.xScale.domain([zoomArea.x1, zoomArea.x2]);\n    }\n    if (this.options.x.type === 'datetime') {\n      this.xAxis.tickFormat(d3.timeFormat(this.formatDate()));\n    }\n    if (zoomArea.y1 > zoomArea.y2) {\n      this.yScale.domain([zoomArea.y2, zoomArea.y1]);\n    } else {\n      this.yScale.domain([zoomArea.y1, zoomArea.y2]);\n    }\n    const trans = this.plot.container.transition().duration(750);\n    this.xGroup.transition(trans).call(this.xAxis);\n    this.xGroup.selectAll('g').selectAll('text').style('text-anchor', 'end').attr('dx', '-.8em').attr('dy', '.15em').attr('transform', 'rotate(-65)');\n    this.yGroup.transition(trans).call(this.yAxis);\n    if (this.grid) {\n      this.grid.remove();\n      this.grid = new Grid(this, this.plot);\n    }\n    return this;\n  }\n\n  /*\n  * remove - removes the x,y axis groups from the plot\n  */\n  remove() {\n    this.xGroup.remove();\n    this.yGroup.remove();\n    if (this.grid) {\n      return this.grid.remove();\n    }\n  }\n\n  /*\n  * formatDate - a method that formats the axis date label\n  */\n  formatDate() {\n    const xDomain = this.xScale.domain();\n    const duration = moment.duration(moment(xDomain[1]).diff(xDomain[0])).asDays();\n    if (duration <= 7) {\n      return '%b %d - %H:%M';\n    }\n    return '%b %d, %Y';\n  }\n\n  /*\n  * maxNumeric - determine the maximum value with padding. Padding is determined\n  * by the number of digits ^ 10 / 10, unless number of digets == 10 then return\n  * 10\n  * @param {array} data, an array of positive integers\n  * @return {number} max\n  */\n  static maxNumeric(data) {\n    const m = _.max(data);\n    const l = String(m).split('').length;\n    if (l === 1) {\n      return 10;\n    }\n    const p = (Math.pow(10, l)) / 10;\n    return m + p;\n  }\n\n  /*\n  * minNumeric - determine the minimum value with padding. Padding is determined\n  * by the number of digits ^ 10 / 10, unless number of digets == 10 then return\n  * 10\n  * @param {array} data, an array of positive integers\n  * @return {number} max\n  */\n  static minNumeric(data) {\n    const m = _.min(data);\n    const l = String(m).split('').length;\n    if (l === 1) {\n      return 10;\n    }\n    const p = (Math.pow(10, l)) / 10;\n    return m + p;\n  }\n\n  /*\n  * maxDatetime - determine the maximum value with padding\n  * @param {array} data, an array of timestamps in milliseconds\n  * @return {number} max, maximum datetime value\n  */\n  static maxDatetime(data) {\n    const min = moment(_.min(data));\n    const max = moment(_.max(data));\n    const unit = getDatetimeUnit(min, max);\n    return moment(max).add(1, unit).valueOf();\n  }\n\n  /*\n  * minDatetime - determine the minimum value with padding\n  * @param {array} data, an array of timestamps in milliseconds\n  * @return {number} min, minimum datetime value\n  */\n  static minDatetime(data) {\n    const min = moment(_.min(data));\n    const max = moment(_.max(data));\n    const unit = getDatetimeUnit(min, max);\n    return moment(min).subtract(1, unit).valueOf();\n  }\n}\n\n\nmodule.exports = Axes;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Axes.js","const d3 = require('d3');\n\nclass Grid {\n  /*\n  * Grid - constructs grids lines for the plot\n  * @param {object} axes, the axes to determine xScale, yScale\n  * @param {object} plot, the plot to append the axis\n  * @param {object} options, the properties for the axis\n  * @returns {object} this\n  */\n  constructor(axes, plot, options) {\n    this.plot = plot;\n    this.options = options || {};\n    this.axes = axes;\n    this.init();\n    return this;\n  }\n\n  /*\n  * init - initialize the x,y grid lines for a plot\n  */\n  init() {\n    this.xGrid = d3.axisBottom().scale(this.axes.xScale).tickFormat('').tickSize((this.plot.getHeight()) * -1, 0, 0);\n    this.xGroup = this.plot.container.insert('g', ':first-child').attr('class', 'd3cf-grid').attr('transform', `translate(${this.plot.margins.left}, ${this.plot.getHeight()})`).attr('opacity', null).call(this.xGrid);\n    this.yGrid = d3.axisLeft().scale(this.axes.yScale).tickFormat('').tickSize((this.plot.getWidth()) * -1, 0, 0);\n    this.yGroup = this.plot.container.insert('g', ':first-child').attr('class', 'd3cf-grid').attr('transform', `translate(${this.plot.margins.left}, 0)`).attr('opacity', null).call(this.yGrid);\n  }\n\n  /*\n  * remove - removed the grid lines from the plot\n  */\n  remove() {\n    this.xGroup.remove();\n    this.yGroup.remove();\n  }\n}\n\nmodule.exports = Grid;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Grid.js","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"d3\"\n// module id = 3\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"underscore\"\n// module id = 4\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"moment\"\n// module id = 5\n// module chunks = 0","/*\n* InvalidNodeError - error thrown when an object is not instanceof Node\n*\n* @param {string} [message], (optional) the message to the user\n*/\nexport class InvalidNodeError extends Error {\n  constructor(message) {\n    const message_ = message || 'Is not instanceof Node.';\n    super(message_);\n  }\n}\n\n/*\n* InvalidGroupError - error thrown when an object is not instanceof Group\n*\n* @param {string} [message], (optional) the message to the user\n*/\nexport class InvalidGroupError extends Error {\n  constructor(message) {\n    const message_ = message || 'Is not instanceof Group.';\n    super(message_);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Errors.js","const d3 = require('d3');\nconst _ = require('underscore');\n\nimport Node from './Node';\nimport { InvalidNodeError } from './Errors';\n\n\nfunction genId() {\n  const length = 9;\n  const prefix = 'group-';\n  return prefix + Math.random().toString(36).substr(2, length);\n}\n\nclass Group {\n  constructor(plot, options) {\n    this.options = options || {};\n    this.id = this.options.id || genId();\n    const onEnter = this.options.onEnter || Group.onEnter;\n    this.onEnter = _.bind(onEnter, this);\n    const onUpdate = this.options.onUpdate || Group.onUpdate;\n    this.onUpdate = _.bind(onUpdate, this);\n    const onExit = this.options.onExit || Group.onExit;\n    this.onExit = _.bind(onExit, this);\n    this.nodes_ = {};\n    this.plot = plot;\n    this.plot.addGroup(this);\n    return this;\n  }\n\n  /*\n  * size - returns the size of the Group's nodes\n  * @return {number} size, the size of the group\n  */\n  size() {\n    return Object.values(this.nodes_).length;\n  }\n\n  /*\n  * addNode - adds a node to this group\n  * @param {object} node, the node to add\n  * @throws {InvalidGroupError} error\n  * @return {Group} this\n  */\n  addNode(node) {\n    if (!node instanceof Node) {\n      throw new InvalidNodeError();\n    }\n    this.nodes_[node.id] = node;\n    return this;\n  }\n\n  /*\n  * removeNode - removes a node from this group\n  * @param {string} id, the id to remove\n  * @return {object} this\n  */\n  removeNode(id) {\n    if (this.nodes_.hasOwnProperty(id)) {\n      delete this.nodes_[id];\n    }\n    return this;\n  }\n\n  /*\n  * getNodes - returns the nodes associated with this group\n  * @return {array} nodes, the nodes associated with this group\n  */\n  getNodes() {\n    return Object.values(this.nodes_);\n  }\n\n  /*\n  * update - handles updating the marker\n  * @return {object} this\n  */\n  update() {\n    if (typeof this.group === 'undefined') {\n      return;\n    }\n    const filtered = this.applyFilters();\n    const filteredLen = filtered.length;\n    this.group.attr('numNodes', filteredLen);\n    const nodes = this.group.selectAll('.node').data(filtered, (d) => {\n      return d.id;\n    });\n    nodes.enter().append((node) => {\n      return node.detached();\n    }).call(this.onEnter);\n    nodes.each((node) => {\n      return node.update();\n    }).call(this.onUpdate);\n    return nodes.exit().remove().call(this.onExit);\n  }\n\n  /*\n  * detached - builds a detached svg group and returns the node\n  * @return {object} node, the SVG node to append to the parent during .call()\n  */\n  detached() {\n    this.remove();\n    this.group = d3.select(document.createElementNS(d3.namespaces.svg, 'g')).attr('id', this.id).attr('class', 'd3cf-group').remove();\n    this.update();\n    return this.group.node();\n  }\n\n  /*\n  * applyFilters - apply any filters from the plot\n  * @param {object} filters, an array of filters to apply\n  * @returns {array} filtered, the filtered data\n  */\n  applyFilters(filters) {\n    const filters_ = filters || this.plot.filters;\n    let filtered = [];\n    if (this.nodes_) {\n      filtered = this.getNodes().filter((d) => {\n        let valid = true;\n        const keys = Object.keys(filters_);\n        let i = 0;\n        const keysLen = keys.length;\n        while (i < keysLen) {\n          const key = keys[i++];\n          const f = filters_[key](d);\n          if (typeof f === 'undefined') {\n            valid = false;\n            break;\n          }\n        }\n        if (valid) {\n          return d;\n        }\n      });\n    }\n    return filtered;\n  }\n\n  /*\n  * remove - removes the group from the DOM\n  */\n  remove() {\n    if (this.group) {\n      this.group.remove();\n    }\n  }\n\n  /*\n  * destroy - destroys the group and any associated elements\n  */\n  destroy() {\n    this.remove();\n    this.plot.removeLayer(this.id);\n    this.nodes = null;\n    this.plot = null;\n    this.group = null;\n  }\n\n  /*\n  * onEnter - the default event handler for a group. This may be overridden or\n  *   a new event handler passed into the constructor as `options.onEnter`\n  * @param {object} selections - the d3 selection object containing the children for this group\n  */\n  static onEnter() {}\n\n  /*\n  * onUpdate - the default event handler for a group. This may be overridden or\n  *   a new event handler passed into the constructor as `options.onUpdate`\n  * @param {object} selections - the d3 selection object for this group\n  */\n  static onUpdate() {}\n\n  /*\n  * onExit - the default event handler for a group. This may be overridden or\n  *   a new event handler passed into the constructor as `options.onExit`\n  * @param {object} selections - the d3 selection object for this group\n  */\n  static onExit() {}\n}\n\nmodule.exports = Group;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Group.js","const d3 = require('d3');\n\n\nfunction genId() {\n  const length = 9;\n  const prefix = 'node-';\n  return prefix + Math.random().toString(36).substr(2, length);\n}\n\nclass Node {\n  /*\n  * Node - base class\n  * @param {object} options, the options used to construct the SegmentMarker\n  * @param {object} options.meta, the optional meta data associated with the node (e.g. used in the Tooltip)\n  * @return {object} this\n  */\n  constructor(options) {\n    this.id = options.id || genId();\n    this.meta = options.meta || {};\n    this.group = null;\n    return this;\n  }\n\n  /*\n  * remove - removes the marker from the DOM\n  */\n  remove() {\n    if (this.group) {\n      return this.group.remove();\n    }\n  }\n\n  /*\n  * detached - builds a detached svg group and returns the node\n  * @return {object} node, the SVG node to append to the parent during .call()\n  */\n  detached() {\n    this.remove();\n    this.group = d3.select(document.createElementNS(d3.namespaces.svg, 'g')).attr('id', this.id).attr('class', 'd3cf-node').attr('opacity', this.o).remove();\n    this.update();\n    return this.group.node();\n  }\n\n}\n\n\nmodule.exports = Node;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Node.js","const d3 = require('d3');\nconst _ = require('underscore');\n\nimport Axes from './Axes';\nimport Tooltip from './Tooltip';\nimport Zoom from './Zoom';\nimport Group from './Group';\nimport { InvalidGroupError } from './Errors';\n\n\nconst MINIMUM_PLOT_HEIGHT = 300;\n\nclass Plot {\n  /*\n  * Plot - creates a new instance of a plot\n  * @param {object} options, the options to create a ScatterPlot\n  * @param {string} containerID, the id of the ScatterPlot container div\n  * @param {string} svgcontainerClass, the desired class of the constructed svg element\n  * @param {object} tooltip,\n  * @param {number} tooltip.opacity, the background opacity for the tooltip\n  * @param {object} tooltip.template, the compiled template\n  * @param {boolean} scale, scale the svg on window resize @default false\n  * @param {boolean} resize, resize the svg on window resize @default true\n  * @returns {object} this, returns self\n  */\n  constructor(options) {\n    this.options = options;\n    this.drawn = false;\n    this.filters = options.filters || {};\n    this.groups_ = {};\n    return this;\n  }\n\n  /*\n  * init - method to initialize the plot, allows the plot to be re-initialized\n  *  on resize while keeping the current plot data in memory\n  * @returns {object} this\n  */\n  init() {\n    this.setDimensions();\n    const scale = this.options.scale || false;\n    if (scale) {\n      this.root = d3.select(`#${this.options.containerID}`).append('svg').attr('viewBox', `0 0 ${this.viewBoxWidth} ${this.viewBoxHeight}`).attr('preserveAspectRatio', 'xMinYMin meet');\n    } else {\n      this.root = d3.select(`#${this.options.containerID}`).append('svg').attr('width', this.viewBoxWidth).attr('height', this.viewBoxHeight);\n    }\n    this.container = this.root.append('g').attr('class', this.options.svgContainerClass).attr('width', this.getWidth()).attr('height', this.getHeight()).attr('transform', `translate(${this.margins.left}, ${this.margins.top})`);\n    this.axes = new Axes(this, this.options.axes);\n    this.tooltip = new Tooltip(this, this.options);\n    const zoomEnabled = this.options.zoom || false;\n    if (zoomEnabled) {\n      this.zoom = new Zoom(this, this.options);\n    }\n    this.groups = this.container.append('g').attr('class', 'd3cf-groups').attr('transform', `translate(${this.margins.left}, 0)`);\n    return this;\n  }\n\n  /*\n  * setDimensions - method to set the dimensions of the plot based on the current window\n  */\n  setDimensions() {\n    this.margins = this.options.margins || {\n      left: 40,\n      right: 20,\n      top: 20,\n      bottom: 40,\n    };\n    this.width = this.options.width || document.getElementById(this.options.containerID).offsetWidth - (this.margins.left + this.margins.right);\n    this.height = this.options.height;\n    if (this.height < MINIMUM_PLOT_HEIGHT) {\n      this.height = MINIMUM_PLOT_HEIGHT;\n    }\n    this.viewBoxWidth = this.width + this.margins.left + this.margins.right;\n    this.viewBoxHeight = this.height + this.margins.top + this.margins.bottom;\n    return this;\n  }\n\n  /*\n  * update - update the width and height attributes of the root and container\n  *  elements. then call update on the plot axes\n  * @param {array} nodes, an array of {object} for each node\n  * @returns {object} this\n  */\n  update(nodes) {\n    this.setDimensions();\n    this.root.attr('width', this.viewBoxWidth).attr('height', this.viewBoxHeight);\n    this.container.attr('width', this.width).attr('height', this.height).attr('transform', `translate(${this.margins.left}, ${this.margins.top})`);\n    if (typeof nodes === 'undefined') {\n      this.axes.update(this.getGroupsNodes());\n    } else {\n      if (nodes instanceof Array) {\n        this.axes.update(nodes);\n        if (this.axes.initialized === true) {\n          this.axes.setInitialMinMax(this.axes.currentMinMax);\n        }\n      } else {\n        const shouldSetInitialMinMax = this.mergeGroups(nodes);\n        this.axes.update(this.getGroupsNodes(false));\n        if (shouldSetInitialMinMax) {\n          this.axes.setInitialMinMax(this.axes.currentMinMax);\n        }\n      }\n    }\n    return this;\n  }\n\n  /*\n  * draw - draws the markers on the plot\n  * @note this will automatically show/hide a warning message if the data\n  * is empty. Do not call super() to override this behavior.\n  * @param {array} nodes, an array of {object} for each marker\n  */\n  draw(nodes) {\n    if (!this.drawn) {\n      this.drawn = true;\n      this.root.transition().style('opacity', 1);\n    }\n    if (typeof nodes === 'undefined') {\n      if (this.getGroupsSize() <= 0) {\n        this.showWarn();\n        return;\n      }\n    } else {\n      if (nodes instanceof Array) {\n        const group = this.defaultGroup(nodes);\n        if (group.size() <= 0) {\n          this.showWarn();\n          return;\n        }\n      } else {\n        if (this.getGroupsSize() <= 0) {\n          this.showWarn();\n          return;\n        }\n      }\n    }\n    this.removeWarn();\n  }\n\n  /*\n  * defaultGroup - creates a default group if an array is passed to the draw method\n  * @param {array} nodes, an array of Node's\n  */\n  defaultGroup(nodes) {\n    let group = this.getGroups().find((g) => {\n      return g.id === 'default_';\n    });\n    if (typeof group === 'undefined') {\n      if (this.options.group && this.options.group.onEnter) {\n        group = new Group(this, {id: 'default_', onEnter: this.options.group.onEnter});\n      } else {\n        group = new Group(this, {id: 'default_'});\n      }\n    }\n    nodes.forEach((d) => {\n      return group.addNode(d);\n    });\n    return group;\n  }\n\n  /*\n  * mergeGroups - merge groups from data passed directly to the draw method\n  * @param {object} nodes, a grouping of nodes\n  * @return {boolean} shouldReset, should the axes domain be reset to currentMinMax\n  */\n  mergeGroups(groups) {\n    const notMerged = Object.keys(this.groups_);\n    let hasNewGroup = false;\n    Object.keys(groups).forEach((k) => {\n      let idx = -1;\n      let group = this.groups_[k];\n      if (typeof group === 'undefined') {\n        hasNewGroup = true;\n        group = new Group(this, {id: k, onEnter: this.options.group.onEnter});\n      } else {\n        idx = notMerged.indexOf(k);\n        if (idx >= 0) {\n          notMerged.splice(idx, 1);\n        }\n      }\n      groups[k].forEach((m) => {\n        group.addNode(m);\n      });\n    });\n    if (notMerged.length > 0) {\n      notMerged.forEach((k) => {\n        this.removeGroup(k);\n      });\n      return true;\n    }\n    if (hasNewGroup && this.axes.initialized === true) {\n      return true;\n    }\n    return false;\n  }\n\n  /*\n  * getWidth\n  * @return {number} width (excluding margins) for the root svg\n  */\n  getWidth() {\n    return this.width - (this.margins.left + this.margins.right);\n  }\n\n  /*\n  * getHeigth\n  * @return {number} width (excluding margins) for the root svg\n  */\n  getHeight() {\n    return this.height - (this.margins.top + this.margins.bottom);\n  }\n\n  /*\n  * showWarn - shows a warning message in the center of the plot\n  * @param {string} m, the message to display\n  * @return {object} this\n  */\n  showWarn(m) {\n    const message = m || 'No data to display';\n    if (this.warn) {\n      this.removeWarn();\n    }\n    this.warn = this.container.append('g').style('opacity', 0).attr('class', 'd3cf-warn');\n    this.warn.append('text').attr('text-anchor', 'middle').attr('x', this.width / 2).attr('y', this.getHeight() / 2).text(message);\n    this.warn.transition().style('opacity', 1);\n    return this;\n  }\n\n  /*\n  * removeWarn - removes the warning message from the plot\n  * @return {object} this\n  */\n  removeWarn() {\n    if (this.warn) {\n      this.warn.remove();\n    }\n    return this;\n  }\n\n  /*\n  * remove - removes the plot from the DOM and any event listeners\n  * @return {object} this\n  */\n  remove() {\n    this.zoom.remove();\n    this.tooltip.remove();\n    this.axes.remove();\n    this.container.remove();\n    this.root.remove();\n  }\n\n  /*\n  * destroy - destroys the plot and any associated elements\n  */\n  destroy() {\n    this.remove();\n    this.zoom = null;\n    this.tooltip = null;\n    this.axes = null;\n    this.container = null;\n    this.root = null;\n    this.resizeHandler = null;\n  }\n\n  /*\n  * addGroup\n  * @param {object} group, add a group to the plot\n  * @throws {InvalidGroupError} error\n  * @return {Plot} this\n  */\n  addGroup(group) {\n    if (group instanceof Group === false) {\n      throw new InvalidGroupError();\n    }\n    this.groups_[group.id] = group;\n    return this;\n  }\n\n  /*\n  * removeGroup\n  * @param {string} id, the group to remove\n  */\n  removeGroup(id) {\n    if (this.groups_.hasOwnProperty(id)) {\n      delete this.groups_[id];\n    }\n  }\n\n  /*\n  * getGroups - returns the groups associated with this plot\n  * @return {array} groups, the groups associated with this plot\n  */\n  getGroups() {\n    return Object.values(this.groups_);\n  }\n\n  /*\n  * getGroups - returns the size of all the groups\n  * @param {boolean} shouldFilter, should the nodes be filtered by domain\n  * @return {Number} size, the size of all the groups\n  */\n  getGroupsSize(shouldFilter) {\n    this.getGroups().reduce((prev, nextObj) => {\n      if (shouldFilter) {\n        return prev + nextObj.applyFilters().length;\n      }\n      const filters = Object.assign({}, this.filters);\n      if (filters.hasOwnProperty('_domain')) {\n        delete filters._domain;\n      }\n      return prev + nextObj.applyFilters(filters).length;\n    }, 0);\n  }\n\n  /*\n  * getGroupsNodes - returns all the nodes for each group\n  * @param {boolean} shouldFilter, should the nodes be filtered by domain\n  * @return {array} nodes, an array of nodes\n  */\n  getGroupsNodes(shouldFilter) {\n    this.getGroups().reduce((prevArr, nextObj) => {\n      if (shouldFilter) {\n        return prevArr.concat(nextObj.applyFilters());\n      }\n      const filters = Object.assign({}, this.filters);\n      if (filters.hasOwnProperty('_domain')) {\n        delete filters._domain;\n      }\n      return prevArr.concat(nextObj.applyFilters(filters));\n    }, []);\n  }\n\n  /*\n  * addFilter - add a filter to the plot\n  * @param {string} name, the name of the filter\n  * @param {function} fn, the function to be applied to the data\n  * @return {object} this\n  */\n  addFilter(name, fn) {\n    this.filters[name] = _.bind(fn, this);\n    return this;\n  }\n\n  /*\n  * removeFilter - removes a filter from the plot\n  * @param {string} name, the name of the filter\n  * @return {object} this\n  */\n  removeFilter(name) {\n    if (this.filters[name] !== 'undefined') {\n      delete this.filters[name];\n    }\n    return this;\n  }\n}\n\n\nmodule.exports = Plot;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Plot.js","const d3 = require('d3');\nconst _ = require('underscore');\n\nclass Tooltip {\n  /*\n  * Tooltip - allows for an HTML div to be faded in/out on mouseover of a marker\n  * @param {object} plot, the plot append the tooltip\n  * @param {object} options, the options for the plot\n  * @param {object} options.tooltip, the options for the tooltip\n  * @param {number} options.opacity, the opacity of the tooltip\n  * @param {object} options.template, an underscore compiled template\n  * @return {object} this\n  */\n  constructor(plot, options) {\n    this.tooltipOpts = options.tooltip || {\n      'opacity': 1,\n      'template': _.template('<span style=\"font-weight: bold;\"><%= obj.id %></span><p>x1: <%= obj.x1 %> x2: <%= obj.x2 %> y: <%= obj.y1 %></p>'),\n    };\n    this.template = this.tooltipOpts.template || _.template('<span style=\"font-weight: bold;\"><%= obj.id %></span><p>x1: <%= obj.x1 %> x2: <%= obj.x2 %> y: <%= obj.y1 %></p>');\n    this.opacity = this.tooltipOpts.opacity || 1;\n    this.element = d3.select('body').append('div').attr('class', 'd3cf-tooltip').style('opacity', 0).html(this.template({}));\n    return this;\n  }\n\n  /*\n  * mouseover - unbound method for mouseover event\n  * @param {object} d, the data\n  * @param {number} x, the x coordinate\n  * @param {number} y, the y coordinate\n  * @return {object} this\n  */\n  mouseover(d, x, y) {\n    const box = this.element.node().getBoundingClientRect();\n    if ((x + box.width) >= (window.innerWidth - 20)) {\n      this.element.html(this.template(d)).style('left', `${((x - 10) - Math.floor(box.width))}px`).style('top', `${y}px`);\n    } else {\n      this.element.html(this.template(d)).style('left', `${(x + 10)}px`).style('top', `${y}px`);\n    }\n    this.element.transition().duration(200).style('opacity', this.opacity);\n    return this;\n  }\n\n  /*\n  * mouseout - unbound method for mouseout event\n  * @return {object} this\n  */\n  mouseout() {\n    this.element.transition().duration(500).style('opacity', 0);\n    return this;\n  }\n\n  /*\n  * remove - removes the element from the DOM\n  */\n  remove() {\n    return this.element.remove();\n  }\n}\n\nmodule.exports = Tooltip;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Tooltip.js","const d3 = require('d3');\nconst _ = require('underscore');\n\nconst MINIMUM_ZOOM_THRESHOLD = 5;\n\nclass Zoom {\n  /*\n  * Zoom - a zoomable interface for a plot\n  * @param {object} plot, the plot to enable the zooming interface\n  * @param {object} options, the object containing the passed in options to the plot constructor\n  * @return {object} this\n  */\n  constructor(plot, options) {\n    this.plot = plot;\n    this.options = options;\n    this.bandPos = [-1, -1];\n    this.zoomArea = {\n      x1: 0,\n      y1: 0,\n      x2: 0,\n      y2: 0,\n    };\n    this.drag = d3.drag();\n    this.zoomGroup = plot.container.append('g').attr('class', 'd3cf-zoom');\n    this.zoomBand = this.zoomGroup.append('rect').attr('width', 0).attr('height', 0).attr('x', 0).attr('y', 0).attr('class', 'd3cf-zoomBand');\n    this.zoomOverlay = this.zoomGroup.append('rect').attr('width', plot.getWidth()).attr('height', plot.getHeight()).attr('transform', `translate(${plot.margins.left}, 0)`).attr('class', 'd3cf-zoomOverlay').call(this.drag);\n    const self = this; // eslint-disable-line consistent-this\n    this.drag.on('start.plot', function() { // eslint-disable-line func-names\n      // Note: @ (this) is not the Zoom class but the DOM event\n      const pos = d3.mouse(this); // eslint-disable-line no-invalid-this\n      self.dragStart = pos;\n    });\n    this.drag.on('drag.plot', function() { // eslint-disable-line func-names\n      // Note: @ (this) is not the Zoom class but the DOM event\n      const pos = d3.mouse(this); // eslint-disable-line no-invalid-this\n      _.bind(self.ondrag, self)(pos);\n    });\n    this.drag.on('end.plot', function() { // eslint-disable-line func-names\n      // Note: @ (this) is not the Zoom class but the DOM event\n      const pos = d3.mouse(this); // eslint-disable-line no-invalid-this\n      let zoomX = false;\n      if (Math.abs(self.dragStart[0] - pos[0]) > MINIMUM_ZOOM_THRESHOLD) {\n        zoomX = true;\n      }\n      let zoomY = false;\n      if (Math.abs(self.dragStart[1] - pos[1]) > MINIMUM_ZOOM_THRESHOLD) {\n        zoomY = true;\n      }\n      _.bind(self.ondragend, self)(pos, zoomX && zoomY);\n    });\n  }\n\n  /*\n  * ondrag - the event handler for the ondrag event\n  * @param {array} pos, the x,y position of the mouse\n  */\n  ondrag(pos) {\n    if (pos[0] < this.bandPos[0]) {\n      this.zoomBand.attr('transform', `translate(${(pos[0] + this.plot.margins.left)}, ${this.bandPos[1]})`);\n    }\n    if (pos[1] < this.bandPos[1]) {\n      this.zoomBand.attr('transform', `translate(${(pos[0] + this.plot.margins.left)}, ${pos[1]})`);\n    }\n    if (pos[1] < this.bandPos[1] && pos[0] > this.bandPos[0]) {\n      this.zoomBand.attr('transform', `translate(${(this.bandPos[0] + this.plot.margins.left)}, ${pos[1]})`);\n    }\n    if (this.bandPos[0] === -1) {\n      this.bandPos = pos;\n      this.zoomBand.attr('transform', `translate(${(this.bandPos[0] + this.plot.margins.left)}, ${this.bandPos[1]})`);\n    }\n    this.zoomBand.transition().duration(1).attr('width', Math.abs(this.bandPos[0] - pos[0])).attr('height', Math.abs(this.bandPos[1] - pos[1]));\n  }\n\n  /*\n  * ondragend - the event handler for the ondragend event\n  * @param {array} pos, the x,y position of the mouse\n  */\n  ondragend(pos, zoom) {\n    const x1 = this.plot.axes.xScale.invert(this.bandPos[0]);\n    const x2 = this.plot.axes.xScale.invert(pos[0]);\n    if (x1 < x2) {\n      this.zoomArea.x1 = x1;\n      this.zoomArea.x2 = x2;\n    } else {\n      this.zoomArea.x1 = x2;\n      this.zoomArea.x2 = x1;\n    }\n    const y1 = this.plot.axes.yScale.invert(pos[1]);\n    const y2 = this.plot.axes.yScale.invert(this.bandPos[1]);\n    if (y1 < y2) {\n      this.zoomArea.y1 = y1;\n      this.zoomArea.y2 = y2;\n    } else {\n      this.zoomArea.y1 = y2;\n      this.zoomArea.y2 = y1;\n    }\n    this.bandPos = [-1, -1];\n    this.zoomBand.transition().attr('width', 0).attr('height', 0).attr('x', this.bandPos[0]).attr('y', this.bandPos[1]);\n    if (zoom) {\n      this.zoom();\n    }\n  }\n\n  /*\n  * zoom - the zooming method called an the end of ondragend\n  */\n  zoom() {\n    this.plot.axes.zoom(this.zoomArea);\n    this.plot.draw();\n  }\n\n  /*\n  * resetZoom - reset the plot zoom back to the original viewBox\n  */\n  reset() {\n    this.plot.axes.reset();\n    this.plot.draw();\n  }\n\n  /*\n  * remove - remove the zoom interface from a plot\n  */\n  remove() {\n    this.zoomGroup.remove();\n    this.drag.on('drag.plot', null);\n    this.drag.on('end.plot', null);\n    this.drag.on('start.plot', null);\n  }\n}\n\n\nmodule.exports = Zoom;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Zoom.js","const _ = require('underscore');\n\nimport Plot from './Plot';\n\n\nclass ScatterPlot extends Plot {\n  /*\n  * ScatterPlot - constructs the root SVG element to contain the ScatterPlot\n  * @param {object} options, the options to create a ScatterPlot\n  * @param {string} containerID, the id of the ScatterPlot container div\n  * @param {string} svgcontainerClass, the desired class of the constructed svg element\n  * @param {object} tooltip,\n  * @param {number} tooltip.opacity, the background opacity for the tooltip\n  * @param {object} tooltip.template, the compiled template\n  * @param {boolean} scale, scale the svg on window resize @default false\n  * @param {boolean} resize, resize the svg on window resize @default true\n  * @returns {object} this, returns self\n  * example usage:\n  *  within your template add\n  ```\n   <div id=\"scatterPlot\" class=\"scatterPlot-container\">\n  ```\n  *  within your template helper, construct a new ScatterPlot instance\n  ```\n    plot = new ScatterPlot(options)\n  ```\n  * example datetime data:\n  ```\n    data = [\n      {x: 1443380879164, y: 3, w: 1445972879164}, {x: 1467054386392, y: 31, w: 1467659186392}, {x: 1459105926404, y: 15, w: 1469646565130},\n      {x: 1443380879164, y: 3, w: 1448654879164}, {x: 1467054386392, y: 31, w: 1468263986392}, {x: 1459105926404, y: 15, w: 1467659365130},\n      {x: 1443380879164, y: 3, w: 1451246879164}, {x: 1467054386392, y: 31, w: 1468868786392}, {x: 1459105926404, y: 15, w: 1467918565130},\n    ]\n  ```\n  * example numeric data:\n  ```\n    data = [\n      {x: 0, y: 3, w: 4}, {x: 5, y: 31, w: 9}, {x: 11, y: 45, w: 15},\n      {x: 1, y: 3, w: 4}, {x: 5, y: 31, w: 15}, {x: 12, y: 45, w: 14},\n      {x: 2, y: 3, w: 4}, {x: 6, y: 31, w: 7}, {x: 12, y: 45, w: 17},\n    ]\n  ```\n  */\n  constructor(options) {\n    super(options);\n    this.init();\n    return this;\n  }\n\n  /*\n  * init - method to set/re-set the resizeHandler\n  * @returns {object} this\n  */\n  init() {\n    super.init();\n    const resizeEnabled = this.options.resize || true;\n    if (resizeEnabled) {\n      this.resizeHandler = _.debounce(_.bind(this.resize, this), 500);\n      return window.addEventListener('resize', this.resizeHandler);\n    }\n  }\n\n  /*\n  * draw - draw using d3 select.data.enter workflow\n  * @param {array} data, an array of {object} for each marker\n  * @returns {object} this\n  */\n  draw(data) {\n    super.draw(data);\n    const groups = this.groups.selectAll('.group').data(this.getGroups(), (d) => {\n      return d.id;\n    });\n    groups.enter().append((group) => {\n      return group.detached();\n    });\n    groups.each((group) => {\n      return group.update();\n    });\n    groups.exit().remove();\n    return this;\n  }\n\n  /*\n  * update the dimensions of the plot (axes, gridlines, then redraw)\n  * @param {array} data, an array of {object} for each marker\n  * @returns {object} this\n  */\n  update(data) {\n    super.update(data);\n    this.draw(data);\n    return this;\n  }\n\n  /*\n  * remove - removes the plot from the DOM and any event listeners\n  * @return {object} this\n  */\n  remove() {\n    if (this.resizeHandler) {\n      window.removeEventListener('resize', this.resizeHandler);\n    }\n    return this;\n  }\n\n  /*\n  * resize - re-renders the plot\n  * @return {object} this\n  */\n  resize() {\n    this.update();\n    return this;\n  }\n\n  /*\n  * resetZoom - resets the zoom of the axes\n  */\n  resetZoom() {\n    if (this.zoom) {\n      return this.zoom.reset();\n    }\n  }\n}\n\n\nmodule.exports = ScatterPlot;\n\n\n\n// WEBPACK FOOTER //\n// ./src/ScatterPlot.js","class Heapsort {\n  heapify(array, index, heapSize, cmp) {\n    const left = (2 * index) + 1;\n    const right = (2 * index) + 2;\n    let largest = index;\n\n    if (left < heapSize && cmp(array[left], array[index]) > 0) {\n      largest = left;\n    }\n\n    if (right < heapSize && cmp(array[right], array[largest]) > 0) {\n      largest = right;\n    }\n\n    if (largest !== index) {\n      const temp = array[index];\n      array[index] = array[largest];\n      array[largest] = temp;\n      this.heapify(array, largest, heapSize, cmp);\n    }\n  }\n\n  buildMaxHeap(array, cmp) {\n    for (let i = Math.floor(array.length / 2); i >= 0; i -= 1) {\n      this.heapify(array, i, array.length, cmp);\n    }\n    return array;\n  }\n\n  sort(array, cmp) {\n    const comparator = cmp || this.comparator;\n    let size = array.length;\n    this.buildMaxHeap(array, comparator);\n    for (let i = array.length - 1; i > 0; i -= 1) {\n      const temp = array[0];\n      array[0] = array[i];\n      array[i] = temp;\n      size -= 1;\n      this.heapify(array, 0, size, comparator);\n    }\n    return array;\n  }\n\n  comparator(a, b) {\n    return a - b;\n  }\n}\n\nmodule.exports = Heapsort;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Heapsort.js","class HeapsortImmutable {\n  sort(list) {\n    const h = this.heapify(list);\n    return h.reduce((state, listItem, index) => {\n      return [\n        ...state.slice(0, index + 1),\n        ...this.heapify(state.slice(index + 1)),\n      ];\n    }, h);\n  }\n\n  heapify(list) {\n    return list.reduceRight(this.reducer.bind(this), list);\n  }\n\n  reducer(state, listItem, index) {\n    const parentIndex = this.getParentIndex(index);\n    if (parentIndex > -1 && state[parentIndex] < state[index]) {\n      state = this.swap(state, parentIndex, index); // eslint-disable-line  no-param-reassign\n    }\n    return state;\n  }\n\n  swap(list, a, b) {\n    return list.map((item, index) => {\n      if (index === a) {\n        item = list[b]; // eslint-disable-line  no-param-reassign\n      }\n      if (index === b) {\n        item = list[a]; // eslint-disable-line  no-param-reassign\n      }\n      return item;\n    });\n  }\n\n  getParentIndex(n) {\n    return Math.floor((n - 1) / 2);\n  }\n\n}\n\nmodule.exports = HeapsortImmutable;\n\n\n\n// WEBPACK FOOTER //\n// ./src/HeapsortImmutable.js"],"sourceRoot":""}