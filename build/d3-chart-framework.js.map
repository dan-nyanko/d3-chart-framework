{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap c5cc2bd3ab106e5e0516","webpack:///./src/index.js","webpack:///./src/Axes.js","webpack:///./src/Grid.js","webpack:///external \"d3\"","webpack:///external \"underscore\"","webpack:///external \"moment\"","webpack:///./src/Errors.js","webpack:///./src/groups/Group.js","webpack:///./src/nodes/Node.js","webpack:///./src/groups/LineGroup.js","webpack:///./src/groups/NodeGroup.js","webpack:///./src/nodes/LineNode.js","webpack:///./src/nodes/RectNode.js","webpack:///./src/nodes/SegmentNode.js","webpack:///./src/Chart.js","webpack:///./src/Tooltip.js","webpack:///./src/Zoom.js","webpack:///./src/ScatterPlot.js","webpack:///./src/LineChart.js"],"names":["default","InvalidNodeError","InvalidGroupError","d3","require","_","moment","getDatetimeUnit","min","max","diff","unit","Axes","chart","options","x","title","type","y","grid","filter","useAutoPadding","defaultMinMax","draw","xDomain","yDomain","xScale","scaleTime","domain","range","getWidth","nice","scaleLinear","xAxis","axisBottom","scale","ticks","tickFormat","timeFormat","formatDate","xGroup","container","append","attr","margins","left","getHeight","call","selectAll","style","yScale","yAxis","axisLeft","yGroup","padding","xLabel","width","right","bottom","text","yLabel","height","top","minMax","calcMinMax","removeFilter","addFilter","d","x1","Date","getTime","x2","y1","y2","hasOwnProperty","Math","floor","data","shouldSetDomain","remove","setDomain","shouldFilterDomain","getGroupsNodes","length","xMin","xMax","pluck","minDatetime","maxDatetime","isNaN","minNumeric","maxNumeric","yMin","yMax","zoomArea","trans","transition","duration","asDays","m","l","String","split","p","pow","ceil","add","valueOf","subtract","module","exports","Grid","axes","plot","init","xGrid","tickSize","insert","yGrid","message","message_","Error","genId","prefix","random","toString","substr","Group","id","onEnter","bind","onUpdate","onExit","nodes_","Object","values","node","group","select","document","createElementNS","namespaces","svg","update","removeLayer","nodes","Node","meta","o","LineGroup","s","w","defaultGenerator","line","generator","cmp","a","b","filtered","applyFilters","getNodes","sort","path","empty","datum","exit","enter","detached","each","NodeGroup","LineNode","r","fill","circle","on","tooltip","mouseover","event","pageX","pageY","mouseout","MINIMUM_MARKER_WIDTH","MINIMUM_MARKER_HEIGHT","RectNode","h","f","rect","MINIMUM_LINE_STROKE","MINIMUM_CIRCLE_RADIUS","MINIMUM_LINE_THRESHOLD","SegmentNode","orderedPair","linePairs","lineDistance","distance","totalRange","linePercentage","startPoint","filteredOrderedPair","start","radius","endPoint","end","pairs","sqrt","abs","segments","groups","segmentsByHeightAndCumulative","groupBy","segment","c","cumulative","keys","forEach","key","i","points","groupName","lastIdx","lastPoint","push","MINIMUM_CHART_HEIGHT","Chart","drawn","filters","groups_","setDimensions","root","containerID","viewBoxWidth","viewBoxHeight","svgContainerClass","zoomEnabled","zoom","getElementById","offsetWidth","Array","mergeGroups","getGroupsSize","showWarn","defaultGroup","size","removeWarn","filters_","valid","keysLen","warn","resizeHandler","shouldFilter","getGroups","reduce","prev","nextObj","assign","_domain","prevArr","concat","name","fn","reset","Tooltip","tooltipOpts","template","opacity","element","html","box","getBoundingClientRect","window","innerWidth","MINIMUM_ZOOM_THRESHOLD","Zoom","bandPos","drag","zoomGroup","zoomBand","zoomOverlay","isZoomed","self","pos","mouse","dragStart","ondrag","zoomX","zoomY","ondragend","invert","ScatterPlot","resizeEnabled","resize","debounce","addEventListener","find","g","addNode","notMerged","addedNewGroup","k","idx","addGroup","indexOf","splice","n","removeGroup","initialized","removeEventListener","LineChart"],"mappings":"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","file":"d3-chart-framework.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"d3\"), require(\"underscore\"), require(\"moment\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"d3-chart-framework\", [\"d3\", \"underscore\", \"moment\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"d3-chart-framework\"] = factory(require(\"d3\"), require(\"underscore\"), require(\"moment\"));\n\telse\n\t\troot[\"d3-chart-framework\"] = factory(root[\"d3\"], root[\"underscore\"], root[\"moment\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_5__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c5cc2bd3ab106e5e0516","export { default as Axes } from './Axes';\nexport { InvalidNodeError, InvalidGroupError } from './Errors';\nexport { default as Grid } from './Grid';\nexport { default as Group } from './groups/Group';\nexport { default as LineGroup } from './groups/LineGroup';\nexport { default as NodeGroup } from './groups/NodeGroup';\nexport { default as Node } from './nodes/Node';\nexport { default as LineNode } from './nodes/LineNode';\nexport { default as RectNode } from './nodes/RectNode';\nexport { default as SegmentNode } from './nodes/SegmentNode';\nexport { default as Chart } from './Chart';\nexport { default as ScatterPlot } from './ScatterPlot';\nexport { default as LineChart } from './LineChart';\nexport { default as Tooltip } from './Tooltip';\nexport { default as Zoom } from './Zoom';\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","const d3 = require('d3');\nconst _ = require('underscore');\nconst moment = require('moment');\n\nimport Grid from './Grid';\n\n/**\n* getDatetimeUnit - determine the unit of time for padding the axis\n*\n* @param {object} min, the min moment datetime object\n* @param {object} max, the max moment datetime object\n* @return {string} the datetime unit {day, week, month}\n*/\nfunction getDatetimeUnit(min, max) {\n  const diff = max.diff(min, 'days');\n  let unit = 'month';\n  if (diff <= 14) {\n    unit = 'day';\n  } else if (diff > 14 && diff <= 183) {\n    unit = 'week';\n  }\n  return unit;\n}\n\nclass Axes {\n  /**\n  * Axes\n  * constructs 2d cartesian axes, appends to the container SVG element of the chart\n  *\n  * @param {object} chart - the chart to append the axis\n  * @param {object} options - the properties for the axis\n  * @param {boolean} grid - should the grid be displayed?\n  * X axis properties\n  * @param {object} options.axes.x - the properties for x axis\n  * @param {string} options.axes.x.title - the title of the x axis\n  * @param {string} options.axes.x.type - the datatype of the x axis {numeric, datetime}\n  * Y axis properties\n  * @param {object} options.axes.y - the properties for y axis\n  * @param {string} options.axes.y.title - the title of the y axis\n  * @param {string} options.axes.y.type - the datatype of the y axis {numeric, datetime}\n  * @returns {object} this - returns self\n  * @example usage:\n  *  with an instance of a chart:\n  ```\n  axes = new Axes(plot, {\n    axes: {\n      grid: true,\n      x: {\n        title: 'Time',\n        type: 'datetime',\n        minMax: [1443371126, 1474993537]\n      },\n      y: {\n        title: 'Incidents',\n        type: 'numeric',\n        minMax: [0, 100]\n      },\n    }\n  })\n  ```\n  */\n  constructor(chart, options) {\n    this.chart = chart;\n    this.options = options || {x: {title: 'x', type: 'numeric'}, y: {title: 'y', type: 'numeric'}, grid: true, filter: true};\n    this.useAutoPadding = options.useAutoPadding || false;\n    this.defaultMinMax = [[0, 0], [0, 0]];\n    this.draw();\n  }\n\n  /**\n  * init - initialize the plot x,y axes\n  *\n  * @param {array} xDomain - the zoom xDomain or undefined\n  * @param {array} yDomain - the zoom yDomain or undefined\n  */\n  draw(xDomain, yDomain) {\n    if (this.options.x.type === 'datetime') {\n      if (xDomain) {\n        this.xScale = d3.scaleTime().domain(xDomain).range([0, this.chart.getWidth()]).nice();\n      } else {\n        this.xScale = d3.scaleTime().domain(this.defaultMinMax[0]).range([0, this.chart.getWidth()]).nice();\n      }\n    } else {\n      if (xDomain) {\n        this.xScale = d3.scaleLinear().domain(xDomain).range([0, this.chart.getWidth()]);\n      } else {\n        this.xScale = d3.scaleLinear().domain(this.defaultMinMax[0]).range([0, this.chart.getWidth()]);\n      }\n    }\n    if (this.options.x.type === 'datetime') {\n      this.xAxis = d3.axisBottom().scale(this.xScale).ticks(10).tickFormat(d3.timeFormat(this.formatDate()));\n    } else {\n      this.xAxis = d3.axisBottom().scale(this.xScale).ticks(10);\n    }\n    if (this.options.x.type === 'datetime') {\n      this.xGroup = this.chart.container.append('g').attr('class', 'x d3cf-axis').attr('transform', `translate(${this.chart.margins.left}, ${this.chart.getHeight()})`).call(this.xAxis);\n      this.xGroup.selectAll('text').style('text-anchor', 'end').attr('dx', '-.8em').attr('dy', '.15em').attr('transform', () => {\n        return 'rotate(-65)';\n      });\n    } else {\n      this.xGroup = this.chart.container.append('g').attr('class', 'x d3cf-axis').attr('transform', `translate(${this.chart.margins.left}, ${this.chart.getHeight()})`).call(this.xAxis);\n    }\n\n    if (yDomain) {\n      this.yScale = d3.scaleLinear().domain(yDomain).range([this.chart.getHeight(), 0]);\n    } else {\n      this.yScale = d3.scaleLinear().domain(this.defaultMinMax[1]).range([this.chart.getHeight(), 0]);\n    }\n    this.yAxis = d3.axisLeft().scale(this.yScale);\n    this.yGroup = this.chart.container.append('g').attr('class', 'y d3cf-axis').attr('transform', `translate(${this.chart.margins.left}, 0)`).call(this.yAxis);\n    if (this.options.grid) {\n       this.grid = new Grid(this, this.chart);\n    }\n\n    let padding = 0;\n    if (this.options.x.type === 'datetime') {\n      padding = 45;\n    }\n\n    if (this.xLabel) {\n      // update\n      this.xLabel\n        .attr('dx', (this.chart.width / 2) - ((this.chart.margins.right + this.chart.margins.left) / 2))\n        .attr('dy', this.chart.margins.bottom);\n    } else {\n      // add\n      this.xLabel = this.chart.container\n        .append('g')\n          .attr('class', 'x d3cf-axis-label')\n          .attr('transform', `translate(${this.chart.margins.left}, ${this.chart.getHeight() + padding})`)\n        .append('text')\n          .attr('dx', (this.chart.width / 2) - ((this.chart.margins.right + this.chart.margins.left) / 2))\n          .attr('dy', this.chart.margins.bottom)\n          .attr('class', 'd3cf-axis-label')\n          .style('text-anchor', 'middle')\n          .text(() => {\n            return this.options.x.title || '';\n          });\n    }\n    if (this.yLabel) {\n      // update\n      this.yLabel\n        .attr('dx', -(this.chart.height / 2) + ((this.chart.margins.top + this.chart.margins.bottom) / 2))\n        .attr('dy', -this.chart.margins.left);\n    } else {\n      // add\n      this.yLabel = this.chart.container\n        .append('g')\n          .attr('class', 'y d3cf-axis-label')\n          .attr('transform', `translate(${this.chart.margins.left}, 0)`)\n        .append('text')\n          .attr('transform', 'rotate(-90)')\n          .attr('dx', -(this.chart.height / 2) + ((this.chart.margins.top + this.chart.margins.bottom) / 2))\n          .attr('dy', -this.chart.margins.left)\n          .attr('class', 'd3cf-axis-label')\n          .style('text-anchor', 'middle')\n          .text(() => {\n            return this.options.y.title;\n          });\n    }\n  }\n\n  /**\n  * setDomain - sets the x, y domains based on the current chart data\n  *\n  */\n  setDomain() {\n    const minMax = this.calcMinMax(false);\n    this.xScale.domain(minMax[0]);\n    this.yScale.domain(minMax[1]);\n    if (this.options.filter) {\n      this.chart.removeFilter('_domain').addFilter('_domain', (d) => {\n        // TODO: should this scope be the Plot or the Axes?\n        let x1 = this.xScale.domain()[0];\n        if (x1 instanceof Date) {\n          x1 = x1.getTime();\n        }\n        let x2 = this.xScale.domain()[1];\n        if (x2 instanceof Date) {\n          x2 = x2.getTime();\n        }\n        const y1 = this.yScale.domain()[0];\n        const y2 = this.yScale.domain()[1];\n        if (d.hasOwnProperty('x2')) {\n          if ((Math.floor(d.x1) >= x1 && Math.floor(d.x2) <= x2) && (Math.floor(d.y1) >= y1 && Math.floor(d.y1) <= y2)) {\n            return d;\n          }\n        } else {\n          if ((Math.floor(d.x1) >= x1) && (Math.floor(d.y1) >= y1 && Math.floor(d.y1) <= y2)) {\n            return d;\n          }\n        }\n      });\n    }\n  }\n\n  /**\n  * update - update the x,y axes using the zoom domain\n  *\n  * @param {array} data - an array of {object} for each marker\n  * @param {boolean} shouldSetDomain - should the domain be set to data bounds\n  * @return {object} this\n  */\n  update(data, shouldSetDomain) {\n    this.remove();\n    if (data && shouldSetDomain) {\n      this.setDomain(data);\n    }\n    this.draw(this.xScale.domain(), this.yScale.domain());\n    return this;\n  }\n\n  /**\n  * the minMax for all nodes without the domain filters\n  *\n  * @param {boolean} shouldFilterDomain\n  * @return {array} minMax\n  */\n  calcMinMax(shouldFilterDomain) {\n      const data = this.chart.getGroupsNodes(shouldFilterDomain);\n      if (data.length === 0) {\n          return [[0, 0], [0, 0]];\n      }\n      let xMin = 0;\n      let xMax = 0;\n      if (this.options.x.type === 'datetime') {\n        const x1 = _.pluck(data, 'x1');\n        const x2 = _.pluck(data, 'x2');\n        xMin = Axes.minDatetime(x1, this.useAutoPadding);\n        xMax = xMin;\n        if (x2.length > 0) {\n          xMax = Axes.maxDatetime(x2, this.useAutoPadding);\n        }\n        if (isNaN(xMax)) {\n          xMax = Axes.maxDatetime(x1, this.useAutoPadding);\n        }\n      } else {\n        const x1 = _.pluck(data, 'x1');\n        const x2 = _.pluck(data, 'x2');\n        xMin = Axes.minNumeric(x1, this.useAutoPadding);\n        xMax = xMin;\n        if (x2.length > 0) {\n          xMax = Axes.maxNumeric(x2, this.useAutoPadding);\n        }\n        if (isNaN(xMax)) {\n          xMax = Axes.maxNumeric(x1, this.useAutoPadding);\n        }\n      }\n      const yMin = 0;\n      const yMax = Axes.maxNumeric(_.pluck(data, 'y1'), this.useAutoPadding);\n      return [[xMin, xMax], [yMin, yMax]];\n  }\n\n  /**\n  * reset - resets the x,y axes back to the original domain\n  *\n  */\n  reset() {\n    const minMax = this.calcMinMax(false);\n    if (minMax[0][0] === 0 && minMax[0][1] === 0 && minMax[1][0] === 0 && minMax[1][1] === 0) {\n        return;\n    }\n    this.remove();\n    this.draw(minMax[0], minMax[1]);\n    return this;\n  }\n\n  /**\n  * zoom - zooms the x, y axes based on the zoomArea object\n  *\n  * @param {object} zoomArea, an object containing a bounding box of x,y coordinates\n  */\n  zoom(zoomArea) {\n    if (zoomArea.x1 > zoomArea.x2) {\n      this.xScale.domain([zoomArea.x2, zoomArea.x1]);\n    } else {\n      this.xScale.domain([zoomArea.x1, zoomArea.x2]);\n    }\n    if (this.options.x.type === 'datetime') {\n      this.xAxis.tickFormat(d3.timeFormat(this.formatDate()));\n    }\n    if (zoomArea.y1 > zoomArea.y2) {\n      this.yScale.domain([zoomArea.y2, zoomArea.y1]);\n    } else {\n      this.yScale.domain([zoomArea.y1, zoomArea.y2]);\n    }\n    const trans = this.chart.container.transition().duration(750);\n    this.xGroup.transition(trans).call(this.xAxis);\n    this.xGroup.selectAll('g').selectAll('text').style('text-anchor', 'end').attr('dx', '-.8em').attr('dy', '.15em').attr('transform', 'rotate(-65)');\n    this.yGroup.transition(trans).call(this.yAxis);\n    if (this.grid) {\n      this.grid.remove();\n      this.grid = new Grid(this, this.chart);\n    }\n    return this;\n  }\n\n  /**\n  * remove - removes the x,y axis groups from the plot\n  *\n  */\n  remove() {\n    this.xGroup.remove();\n    this.yGroup.remove();\n    if (this.grid) {\n      return this.grid.remove();\n    }\n  }\n\n  /**\n  * formatDate - a method that formats the axis date label\n  *\n  */\n  formatDate() {\n    const xDomain = this.xScale.domain();\n    const duration = moment.duration(moment(xDomain[1]).diff(xDomain[0])).asDays();\n    if (duration <= 7) {\n      return '%b %d - %H:%M';\n    }\n    return '%b %d, %Y';\n  }\n\n  /**\n  * maxNumeric - determine the maximum value with padding. Padding is determined\n  * by the number of digits ^ 10 / 10, unless number of digets == 10 then return\n  * 10\n  *\n  * @param {array} data - an array of positive integers\n  * @return {number} max\n  */\n  static maxNumeric(data, useAutoPadding) {\n    const m = Math.floor(_.max(data));\n    if (useAutoPadding) {\n      const l = String(m).split('').length;\n      if (l === 1) {\n        return 10;\n      }\n      const p = (Math.pow(10, l)) / 10;\n      return m + p;\n    }\n    return Math.ceil(m);\n  }\n\n  /**\n  * minNumeric - determine the minimum value with padding. Padding is determined\n  * by the number of digits ^ 10 / 10, unless number of digets == 10 then return\n  * 10\n  *\n  * @param {array} data - an array of positive integers\n  * @return {number} max\n  */\n  static minNumeric(data, useAutoPadding) {\n    const m = Math.floor(_.min(data));\n    if (useAutoPadding) {\n      const l = String(m).split('').length;\n      if (l === 1) {\n        return 10;\n      }\n      const p = (Math.pow(10, l)) / 10;\n      return m + p;\n    }\n    return Math.ceil(m);\n  }\n\n  /**\n  * maxDatetime - determine the maximum value with padding\n  *\n  * @param {array} data - an array of timestamps in milliseconds\n  * @return {number} max - maximum datetime value\n  */\n  static maxDatetime(data, useAutoPadding) {\n    const max = moment(_.max(data));\n    if (useAutoPadding) {\n      const min = moment(_.min(data));\n      const unit = getDatetimeUnit(min, max);\n      return moment(max).add(1, unit).valueOf();\n    }\n    return max.valueOf();\n  }\n\n  /**\n  * minDatetime - determine the minimum value with padding\n  *\n  * @param {array} data - an array of timestamps in milliseconds\n  * @return {number} min - minimum datetime value\n  */\n  static minDatetime(data, useAutoPadding) {\n    const min = moment(_.min(data));\n    if (useAutoPadding) {\n      const max = moment(_.max(data));\n      const unit = getDatetimeUnit(min, max);\n      return moment(min).subtract(1, unit).valueOf();\n    }\n    return min.valueOf();\n  }\n}\n\n\nmodule.exports = Axes;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Axes.js","const d3 = require('d3');\n\nclass Grid {\n  /**\n  * Grid - constructs grids lines for the plot\n  *\n  * @param {object} axes - the axes to determine xScale, yScale\n  * @param {object} plot - the plot to append the axis\n  * @param {object} options - the properties for the axis\n  * @returns {object} this\n  */\n  constructor(axes, plot, options) {\n    this.plot = plot;\n    this.options = options || {};\n    this.axes = axes;\n    this.init();\n    return this;\n  }\n\n  /*\n  * init - initialize the x,y grid lines for a plot\n  *\n  */\n  init() {\n    this.xGrid = d3.axisBottom().scale(this.axes.xScale).tickFormat('').tickSize((this.plot.getHeight()) * -1, 0, 0);\n    this.xGroup = this.plot.container.insert('g', ':first-child').attr('class', 'd3cf-grid').attr('transform', `translate(${this.plot.margins.left}, ${this.plot.getHeight()})`).attr('opacity', null).call(this.xGrid);\n    this.yGrid = d3.axisLeft().scale(this.axes.yScale).tickFormat('').tickSize((this.plot.getWidth()) * -1, 0, 0);\n    this.yGroup = this.plot.container.insert('g', ':first-child').attr('class', 'd3cf-grid').attr('transform', `translate(${this.plot.margins.left}, 0)`).attr('opacity', null).call(this.yGrid);\n  }\n\n  /*\n  * remove - removed the grid lines from the plot\n  *\n  */\n  remove() {\n    this.xGroup.remove();\n    this.yGroup.remove();\n  }\n}\n\nmodule.exports = Grid;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Grid.js","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"d3\"\n// module id = 3\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"underscore\"\n// module id = 4\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"moment\"\n// module id = 5\n// module chunks = 0","/**\n* InvalidNodeError - error thrown when an object is not instanceof Node\n*\n* @param {string} [message] - (optional) the message to the user\n*/\nexport class InvalidNodeError extends Error {\n  constructor(message) {\n    const message_ = message || 'Is not instanceof Node.';\n    super(message_);\n  }\n}\n\n/**\n* InvalidGroupError - error thrown when an object is not instanceof Group\n*\n* @param {string} [message] - (optional) the message to the user\n*/\nexport class InvalidGroupError extends Error {\n  constructor(message) {\n    const message_ = message || 'Is not instanceof Group.';\n    super(message_);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Errors.js","const d3 = require('d3');\nconst _ = require('underscore');\n\nimport Node from '../nodes/Node';\nimport { InvalidNodeError } from '../Errors';\n\n\nfunction genId() {\n  const length = 9;\n  const prefix = 'group-';\n  return prefix + Math.random().toString(36).substr(2, length);\n}\n\nclass Group {\n  constructor(chart, options) {\n    this.options = options || {};\n    this.id = this.options.id || genId();\n    const onEnter = this.options.onEnter || Group.onEnter;\n    this.onEnter = _.bind(onEnter, this);\n    const onUpdate = this.options.onUpdate || Group.onUpdate;\n    this.onUpdate = _.bind(onUpdate, this);\n    const onExit = this.options.onExit || Group.onExit;\n    this.onExit = _.bind(onExit, this);\n    this.nodes_ = {};\n    this.chart = chart;\n    return this;\n  }\n\n  /**\n  * size - returns the size of the Group's nodes\n  *\n  * @return {number} size - the size of the group\n  */\n  size() {\n    return Object.values(this.nodes_).length;\n  }\n\n  /**\n  * addNode - adds a node to this group\n  *\n  * @param {object} node - the node to add\n  * @throws {InvalidGroupError} error\n  * @return {Group} this\n  */\n  addNode(node) {\n    if (typeof node === 'undefined' || !node instanceof Node) {\n      throw new InvalidNodeError();\n    }\n    this.nodes_[node.id] = node;\n    return this;\n  }\n\n  /**\n  * removeNode - removes a node from this group\n  *\n  * @param {string} id - the id to remove\n  * @return {object} this\n  */\n  removeNode(id) {\n    if (this.nodes_.hasOwnProperty(id)) {\n      delete this.nodes_[id];\n    }\n    return this;\n  }\n\n  /**\n  * getNodes - returns the nodes associated with this group\n  *\n  * @return {array} nodes - the nodes associated with this group\n  */\n  getNodes() {\n    return Object.values(this.nodes_);\n  }\n\n  /**\n  * update - handles updating the marker\n  *\n  * @return {object} this\n  */\n  update() {\n    throw new Error('Update must be implemented.');\n  }\n\n  /**\n  * detached - builds a detached svg group and returns the node\n  *\n  * @return {object} node - the SVG node to append to the parent during .call()\n  */\n  detached() {\n    this.remove();\n    this.group = d3.select(document.createElementNS(d3.namespaces.svg, 'g')).attr('id', this.id).attr('class', 'd3cf-group').remove();\n    this.update();\n    return this.group.node();\n  }\n\n  /**\n  * remove - removes the group from the DOM\n  *\n  */\n  remove() {\n    if (this.group) {\n      this.group.remove();\n    }\n  }\n\n  /**\n  * destroy - destroys the group and any associated elements\n  *\n  */\n  destroy() {\n    this.remove();\n    this.chart.removeLayer(this.id);\n    this.nodes = null;\n    this.chart = null;\n    this.group = null;\n  }\n\n  /**\n  * onEnter - the default event handler for a group. This may be overridden or\n  *   a new event handler passed into the constructor as `options.onEnter`\n  *\n  * @param {object} selections - the d3 selection object containing the children for this group\n  */\n  static onEnter() {}\n\n  /**\n  * onUpdate - the default event handler for a group. This may be overridden or\n  *   a new event handler passed into the constructor as `options.onUpdate`\n  *\n  * @param {object} selections - the d3 selection object for this group\n  */\n  static onUpdate() {}\n\n  /**\n  * onExit - the default event handler for a group. This may be overridden or\n  *   a new event handler passed into the constructor as `options.onExit`\n  *\n  * @param {object} selections - the d3 selection object for this group\n  */\n  static onExit() {}\n}\n\nmodule.exports = Group;\n\n\n\n// WEBPACK FOOTER //\n// ./src/groups/Group.js","const d3 = require('d3');\n\n\nfunction genId() {\n  const length = 9;\n  const prefix = 'node-';\n  return prefix + Math.random().toString(36).substr(2, length);\n}\n\nclass Node {\n  /**\n  * Node - base class\n  *\n  * @param {object} options - the options used to construct the SegmentMarker\n  * @param {object} options.meta - the optional meta data associated with the node (e.g. used in the Tooltip)\n  * @return {object} this\n  */\n  constructor(options) {\n    this.id = options.id || genId();\n    this.meta = options.meta || {};\n    this.group = null;\n    return this;\n  }\n\n  /**\n  * remove - removes the marker from the DOM\n  *\n  */\n  remove() {\n    if (this.group) {\n      return this.group.remove();\n    }\n  }\n\n  /**\n  * update - updates one or more elements within the RectNode SVG group\n  *\n  */\n  update() {\n    return this;\n  }\n\n  /**\n  * detached - builds a detached svg group and returns the node\n  *\n  * @return {object} node - the SVG node to append to the parent during .call()\n  */\n  detached() {\n    this.remove();\n    this.group = d3.select(document.createElementNS(d3.namespaces.svg, 'g')).attr('id', this.id).attr('class', 'd3cf-node').attr('opacity', this.o).remove();\n    this.update();\n    return this.group.node();\n  }\n\n}\n\n\nmodule.exports = Node;\n\n\n\n// WEBPACK FOOTER //\n// ./src/nodes/Node.js","const d3 = require('d3');\n\nimport Group from './Group';\n\n\nclass LineGroup extends Group {\n  constructor(chart, options) {\n    super(chart, options);\n    this.s = options.s || 'steelblue';\n    this.w = options.w || 1.5;\n    this.meta = options.meta || {};\n    const defaultGenerator = d3.line().x((d) => {\n      return this.chart.axes.xScale(d.x1);\n    }).y((d) => {\n      return this.chart.axes.yScale(d.y1);\n    });\n    this.generator = options.generator || defaultGenerator;\n    return this;\n  }\n\n  /**\n  * update - handles updating the marker\n  *\n  * @return {object} this\n  */\n  update() {\n    if (typeof this.group === 'undefined') {\n      return;\n    }\n    /**\n    * comparator function for sorting by x1 ascending\n    *\n    * @param {object} a - LineNode object\n    * @param {object} b - LineNode object\n    * @return {number}\n    */\n    function cmp(a, b) {\n      return a.x1 - b.x1;\n    }\n    const filtered = this.chart.applyFilters(this.getNodes()).sort(cmp);\n    this.group.attr('numNodes', filtered.length);\n    // select\n    const path = this.group.select('.d3cf-line');\n    if (path.empty()) {\n      // enter\n      this.group.append('path')\n        .datum(filtered, (d) => {\n          return d.id;\n        })\n        .attr('fill', 'transparent')\n        .attr('stroke', this.s)\n        .attr('stroke-linejoin', 'round')\n        .attr('stroke-linecap', 'round')\n        .attr('stroke-width', this.w)\n        .attr('class', 'd3cf-line')\n        .attr('d', (d) => {\n          return this.generator(d);\n        })\n        .call(this.onEnter);\n    }\n    // update\n    path.attr('stroke', this.s)\n      .attr('stroke-width', this.w)\n      .attr('d', (d) => {\n        return this.generator(d);\n      }).call(this.onUpdate);\n    // exit\n    path.exit().remove().call(this.onExit);\n    const nodes = this.group.selectAll('.node').data(filtered, (d) => {\n      return d.id;\n    });\n    nodes.enter().append((node) => {\n      return node.detached();\n    }).call(this.onEnter);\n    nodes.each((node) => {\n      return node.update();\n    }).call(this.onUpdate);\n    nodes.exit().remove().call(this.onExit);\n  }\n\n}\n\nmodule.exports = LineGroup;\n\n\n\n// WEBPACK FOOTER //\n// ./src/groups/LineGroup.js","import Group from './Group';\n\n\nclass NodeGroup extends Group {\n  constructor(chart, options) {\n    super(chart, options);\n    return this;\n  }\n\n  /**\n  * update - handles updating the marker\n  * @override\n  *\n  * @return {object} this\n  */\n  update() {\n    if (typeof this.group === 'undefined') {\n      return;\n    }\n    const filtered = this.chart.applyFilters(this.getNodes());\n    this.group.attr('numNodes', filtered.length);\n    const nodes = this.group.selectAll('.node').data(filtered, (d) => {\n      return d.id;\n    });\n    nodes.enter().append((node) => {\n      return node.detached();\n    }).call(this.onEnter);\n    nodes.each((node) => {\n      return node.update();\n    }).call(this.onUpdate);\n    nodes.exit().remove().call(this.onExit);\n  }\n\n}\n\nmodule.exports = NodeGroup;\n\n\n\n// WEBPACK FOOTER //\n// ./src/groups/NodeGroup.js","const d3 = require('d3');\n\nimport Node from './Node';\n\n\nclass LineNode extends Node {\n  /**\n  * LineNode - a data point for a path/line generator\n  *\n  * @param {object} chart - an instance of a chart\n  * @param {object} options - the options used to construct the plot\n  * @param {number} options.x1 - the value for x1 position\n  * @param {number} options.y1 - the value for y1 position\n  * @param {string} options.r - the radius of the circle\n  * @param {number} options.o - the opacity of the cirle\n  * @param {object} options.meta - the optional meta data associated with the circle (e.g. used in the Tooltip)\n  * @return {object} this\n  */\n  constructor(chart, options) {\n    super(options);\n    this.chart = chart;\n    this.x1 = options.x1;\n    this.y1 = options.y1;\n    this.r = options.r || 3;\n    this.o = options.o || 0;\n    this.style = options.style || 'd3cf-node';\n    this.meta = options.meta || {};\n    return this;\n  }\n\n  getFill(type) {\n    let fill = '#33B5E';\n    switch (type) {\n      case 'warning':\n        fill = '#FFBB33';\n        break;\n      case 'success':\n        fill = '#00C851';\n        break;\n      case 'info':\n        fill = '#33B5E5';\n        break;\n      default:\n        break;\n    }\n    return fill;\n  }\n\n  /**\n  * update - updates one or more elements\n  *\n  */\n  update() {\n    if (typeof this.group === 'undefined') {\n      this.group = d3.select(`#${this.id}`);\n    }\n    /**\n    * Each node of the line's `path` (see LineGroup) is a transparent circle in\n    * order to have a mouseover event.\n    *\n    * @see https://groups.google.com/forum/#!topic/d3-js/gHzOj91X2NA\n    */\n    // select\n    const circle = this.group.selectAll('circle').data([this], (d) => {\n      return d.id;\n    });\n    // create\n    circle.enter().append('circle')\n      .attr('class', this.style)\n      .attr('cx', () => {\n        return this.chart.axes.xScale(this.x1);\n      }).attr('cy', () => {\n        return this.chart.axes.yScale(this.y1);\n      }).attr('r', () => {\n        return this.r;\n      }).attr('opacity', () => {\n        return this.o;\n      }).on('mouseover', () => {\n        if (this.chart.tooltip) {\n          return this.chart.tooltip.mouseover(this, d3.event.pageX, d3.event.pageY);\n        }\n      }).on('mouseout', () => {\n        if (this.chart.tooltip) {\n          return this.chart.tooltip.mouseout();\n        }\n      });\n    // update\n    circle.attr('cx', () => {\n      return this.chart.axes.xScale(this.x1);\n    }).attr('cy', () => {\n      return this.chart.axes.yScale(this.y1);\n    }).attr('r', () => {\n      return this.r;\n    }).attr('opacity', () => {\n      return this.o;\n    });\n    // remove\n    circle.exit().remove();\n    return this;\n  }\n\n}\n\n\nmodule.exports = LineNode;\n\n\n\n// WEBPACK FOOTER //\n// ./src/nodes/LineNode.js","const d3 = require('d3');\n\nimport Node from './Node';\n\n\nconst MINIMUM_MARKER_WIDTH = 10;\nconst MINIMUM_MARKER_HEIGHT = 10;\n\nclass RectNode extends Node {\n  /**\n  * RectNode - a rectangular node\n  *\n  * @param {object} plot - an instance of a plot\n  * @param {object} options - the options used to construct the plot\n  * @param {number} options.x1 - the value for x1 position\n  * @param {number} options.x2 - the value for x2 position\n  * @param {number} options.y1 - the value for y1 position\n  * @param {number} options.h - the value for the height\n  * @param {string} options.f - the fill of the marker\n  * @param {number} options.o - the opacity of the marker\n  * @param {object} options.meta - the optional meta data associated with the marker (e.g. used in the Tooltip)\n  * @return {object} this\n  */\n  constructor(plot, options) {\n    super(options);\n    this.plot = plot;\n    this.x1 = options.x1;\n    this.x2 = options.x2;\n    this.y1 = options.y1;\n    this.h = options.h || 10;\n    this.f = options.f || '#345e7e';\n    this.o = options.o || 0.4;\n    this.style = options.style || 'd3cf-node';\n    return this;\n  }\n\n  /**\n  * update - updates one or more elements within the RectNode SVG group\n  *\n  */\n  update() {\n    if (typeof this.group === 'undefined') {\n      this.group = d3.select(`#${this.id}`);\n    }\n    // select\n    const rect = this.group.selectAll('rect').data([this], (d) => {\n      return d.id;\n    });\n    // create\n    rect.enter().append('rect').attr('class', this.style).attr('x', () => {\n      return this.plot.axes.xScale(this.x1);\n    }).attr('y', () => {\n      let height = this.h;\n      if (height < MINIMUM_MARKER_HEIGHT) {\n        height = MINIMUM_MARKER_HEIGHT;\n      }\n      return this.plot.axes.yScale(this.y1) - height / 2;\n    }).attr('width', () => {\n      let width = this.plot.axes.xScale(this.x2) - this.plot.axes.xScale(this.x1);\n      if (width < MINIMUM_MARKER_WIDTH) {\n        width = MINIMUM_MARKER_WIDTH;\n      }\n      return width;\n    }).attr('height', () => {\n      let height = this.h;\n      if (height < MINIMUM_MARKER_HEIGHT) {\n        height = MINIMUM_MARKER_HEIGHT;\n      }\n      return height;\n    }).style('fill', () => {\n      return this.f;\n    }).style('opacity', () => {\n      return this.o;\n    }).on('mouseover', () => {\n      if (this.plot.tooltip) {\n        return this.plot.tooltip.mouseover(this, d3.event.pageX, d3.event.pageY);\n      }\n    }).on('mouseout', () => {\n      if (this.plot.tooltip) {\n        return this.plot.tooltip.mouseout();\n      }\n    });\n\n    // update\n    rect.attr('x', () => {\n      return this.plot.axes.xScale(this.x1);\n    }).attr('y', () => {\n      let height = this.h;\n      if (height < MINIMUM_MARKER_HEIGHT) {\n        height = MINIMUM_MARKER_HEIGHT;\n      }\n      return this.plot.axes.yScale(this.y1) - height / 2;\n    }).attr('width', () => {\n      let width = this.plot.axes.xScale(this.x2) - this.plot.axes.xScale(this.x1);\n      if (width < MINIMUM_MARKER_WIDTH) {\n        width = MINIMUM_MARKER_WIDTH;\n      }\n      return width;\n    }).attr('height', () => {\n      let height = this.h;\n      if (height < MINIMUM_MARKER_HEIGHT) {\n        height = MINIMUM_MARKER_HEIGHT;\n      }\n      return height;\n    });\n\n    // remove\n    rect.exit().remove();\n    return this;\n  }\n}\n\n\nmodule.exports = RectNode;\n\n\n\n// WEBPACK FOOTER //\n// ./src/nodes/RectNode.js","import d3 from 'd3';\nimport _ from 'underscore';\nimport Node from './Node';\n\nconst MINIMUM_LINE_STROKE = 4;\nconst MINIMUM_CIRCLE_RADIUS = 5;\nconst MINIMUM_LINE_THRESHOLD = 2;\n\nclass SegmentNode extends Node {\n  /**\n  * SegmentNode - a line with beginning and end circles\n  * @param {object} plot - an instance of a plot\n  * @param {object} options - the options used to construct the SegmentNode\n  * @param {number} options.x - the value for x position\n  * @param {number} options.y - the value for y position\n  * @param {number} options.l - the value for the length of the line\n  * @param {number} options.h - the value for the height\n  * @param {string} options.f - the fill of the line\n  * @param {number} options.o - the opacity of the line\n  * @param {object} options.meta - the optional meta data associated with the node (e.g. used in the Tooltip)\n  * @return {object} this\n  */\n  constructor(plot, options) {\n    super(options);\n    this.plot = plot;\n    this.x = options.x;\n    this.y = options.y;\n    this.w = options.w;\n    this.h = options.h || MINIMUM_LINE_STROKE;\n    this.r = options.r || MINIMUM_CIRCLE_RADIUS;\n    this.f = options.f || '#345e7e';\n    this.o = options.o || 0.3;\n    this.meta = options.meta || {};\n    return this;\n  }\n\n  /**\n  * remove - removes the node from the DOM\n  *\n  * @return {object} this\n  */\n  remove() {\n    if (this.group) {\n      return this.group.remove();\n    }\n  }\n\n  /**\n  * filteredOrderedPair - determine if the pair exists within the domain\n  *\n  */\n  filteredOrderedPair(orderedPair) {\n    if (orderedPair[0] < this.plot.axes.xScale.range()[0]) {\n      orderedPair[0] = null;\n    }\n    if (orderedPair[0] > this.plot.axes.xScale.range()[1]) {\n      orderedPair[0] = null;\n    }\n    if (orderedPair[1] < this.plot.axes.yScale.range()[1]) {\n      orderedPair[1] = null;\n    }\n    if (orderedPair[1] > this.plot.axes.yScale.range()[0]) {\n      orderedPair[1] = null;\n    }\n    return orderedPair;\n  }\n\n  /**\n  * update - handles updating the node\n  *\n  * @return {object} this\n  */\n  update() {\n    if (typeof this.group === 'undefined') {\n      this.group = d3.select(`#${this.id}`);\n    }\n    const linePairs = [[this.plot.axes.xScale(this.x), this.plot.axes.yScale(this.y)], [this.plot.axes.xScale(this.w), this.plot.axes.yScale(this.y)]];\n    const lineDistance = this.distance(linePairs);\n    const totalRange = this.plot.axes.xScale.range()[1];\n    const linePercentage = Math.floor((lineDistance / totalRange) * 100);\n    const startPoint = this.filteredOrderedPair([this.plot.axes.xScale(this.x), this.plot.axes.yScale(this.y)]);\n    const start = this.group.selectAll('.start-circle').data([this], (d) => {\n      return d.id;\n    });\n    if (startPoint[0] !== null && startPoint[1] !== null) {\n      start.enter().append('circle').attr('class', 'start-circle').style('fill', this.f).attr('cx', startPoint[0]).attr('cy', startPoint[1]).attr('r', () => {\n        let radius = this.r;\n        radius = Math.ceil((radius * (linePercentage / 100)) + radius);\n        if (radius < MINIMUM_CIRCLE_RADIUS) {\n          radius = MINIMUM_CIRCLE_RADIUS;\n        }\n        return radius;\n      });\n      start.attr('cx', startPoint[0]).attr('cy', startPoint[1]).attr('r', () => {\n        let radius = this.r;\n        radius = Math.ceil((radius * (linePercentage / 100)) + radius);\n        if (radius < MINIMUM_CIRCLE_RADIUS) {\n          radius = MINIMUM_CIRCLE_RADIUS;\n        }\n        return radius;\n      });\n      start.exit().remove();\n    } else {\n      this.group.selectAll('.start-circle').remove();\n    }\n    if (linePercentage >= MINIMUM_LINE_THRESHOLD) {\n      const line = this.group.selectAll('line').data([this], (d) => {\n        return d.id;\n      });\n      line.enter().append('line').attr('x1', () => {\n        if (linePairs[0][0] <= this.plot.axes.xScale.range()[0]) {\n          return this.plot.axes.xScale.range()[0];\n        }\n        if (linePairs[0][0] >= this.plot.axes.xScale.range()[1]) {\n          return null;\n        }\n        return linePairs[0][0];\n      }).attr('y1', linePairs[0][1]).attr('x2', () => {\n        if (linePairs[1][0] >= this.plot.axes.xScale.range()[1]) {\n          return this.plot.axes.xScale.range()[1];\n        }\n        if (linePairs[1][0] <= this.plot.axes.xScale.range()[0]) {\n          return null;\n        }\n        return linePairs[1][0];\n      }).attr('y2', linePairs[1][1]).attr('stroke-width', () => {\n        let height = this.h;\n        height = Math.ceil((height * (linePercentage / 100)) + height);\n        if (height < MINIMUM_LINE_STROKE) {\n          return MINIMUM_LINE_STROKE;\n        }\n        return height;\n      }).attr('stroke', this.f);\n      line.attr('x1', () => {\n        if (linePairs[0][0] <= this.plot.axes.xScale.range()[0]) {\n          return this.plot.axes.xScale.range()[0];\n        }\n        if (linePairs[0][0] >= this.plot.axes.xScale.range()[1]) {\n          return null;\n        }\n        return linePairs[0][0];\n      }).attr('y1', linePairs[0][1]).attr('x2', () => {\n        if (linePairs[1][0] >= this.plot.axes.xScale.range()[1]) {\n          return this.plot.axes.xScale.range()[1];\n        }\n        if (linePairs[1][0] <= this.plot.axes.xScale.range()[0]) {\n          return null;\n        }\n        return linePairs[1][0];\n      }).attr('y2', linePairs[1][1]).attr('stroke-width', () => {\n        let height = this.h;\n        height = Math.ceil((height * (linePercentage / 100)) + height);\n        if (height < MINIMUM_LINE_STROKE) {\n          return MINIMUM_LINE_STROKE;\n        }\n        return height;\n      });\n    } else {\n      this.group.selectAll('line').remove();\n    }\n    const endPoint = this.filteredOrderedPair([this.plot.axes.xScale(this.w), this.plot.axes.yScale(this.y)]);\n    if (linePercentage >= MINIMUM_LINE_THRESHOLD) {\n      if (endPoint[0] !== null && endPoint[1] !== null) {\n        const end = this.group.selectAll('.end-circle').data([this], (d) => {\n          return d.id;\n        });\n        end.enter().append('circle').attr('class', 'end-circle').attr('cx', endPoint[0]).attr('cy', endPoint[1]).attr('r', () => {\n          let radius = this.r;\n          radius = Math.ceil(((radius * linePercentage) / 100) + radius);\n          if (radius < MINIMUM_CIRCLE_RADIUS) {\n            radius = MINIMUM_CIRCLE_RADIUS;\n          }\n          return radius;\n        }).style('fill', this.f);\n        end.attr('class', 'end-circle').attr('cx', endPoint[0]).attr('cy', endPoint[1]).attr('r', () => {\n          let radius = this.r;\n          radius = Math.ceil(((radius * linePercentage) / 100) + radius);\n          if (radius < MINIMUM_CIRCLE_RADIUS) {\n            radius = MINIMUM_CIRCLE_RADIUS;\n          }\n          return radius;\n        });\n      } else {\n        this.group.selectAll('.end-circle').remove();\n      }\n    } else {\n      this.group.selectAll('.end-circle').remove();\n    }\n    return this;\n  }\n\n  /**\n  * detached - builds a detached svg group and returns the node\n  *\n  * @return {object} node - the SVG node to append to the parent during .call()\n  */\n  detached() {\n    this.remove();\n    this.group = d3.select(document.createElementNS(d3.namespaces.svg, 'g')).attr('id', this.id).attr('class', 'node').attr('opacity', this.o).remove();\n    this.update();\n    this.group.node();\n  }\n\n  /**\n  * distance - determine the distance between two pairs\n  *\n  */\n  distance(pairs) {\n    return Math.sqrt(Math.pow(Math.abs(pairs[0][0] - pairs[1][0]), 2) + Math.pow(Math.abs(pairs[0][1] - pairs[1][1]), 2));\n  }\n\n  /**\n  * groupOverlappingSegments - group overlapping segments together\n  *\n  * @param {array} segments - an array of SegmentNode's\n  * @return {object} groups - groups of overlapping segments\n  */\n  static groupOverlappingSegments(segments) {\n    const groups = {};\n    const segmentsByHeightAndCumulative = _.groupBy(segments, (segment) => {\n      let c = false;\n      if (typeof segment.meta.cumulative === 'undefined') {\n        c = false;\n      } else {\n        c = segment.meta.cumulative;\n      }\n      return `${segment.y}:${c}`;\n    });\n    Object.keys(segmentsByHeightAndCumulative).forEach((key) => {\n      const values = segmentsByHeightAndCumulative[key];\n      values.sort((a, b) => {\n        return a.x - b.x;\n      });\n      let i = 0;\n      const points = [];\n      while (i < values.length) {\n        if (i === 0) {\n          points[0] = values[0];\n          const groupName = `${values[0].w}:${key}`;\n          groups[groupName] = [values[0]];\n          i++;\n          continue; // eslint-disable-line no-continue\n        }\n        const lastIdx = points.length - 1;\n        if (lastIdx < 0) {\n          break;\n        }\n        const lastPoint = points[lastIdx];\n        if (values[i].x >= lastPoint.x && values[i].w <= lastPoint.w) {\n          const groupName = `${lastPoint.w}:${key}`;\n          let group = groups[groupName];\n          if (typeof group === 'undefined') {\n            group = [];\n          }\n          group.push(values[i]);\n          i++;\n        } else {\n          points[lastIdx + 1] = values[i];\n          const groupName = `${values[i].w}:${key}`;\n          groups[groupName] = [values[i]];\n          i++;\n        }\n      }\n    });\n    return groups;\n  }\n}\n\n\nmodule.exports = SegmentNode;\n\n\n\n// WEBPACK FOOTER //\n// ./src/nodes/SegmentNode.js","const d3 = require('d3');\nconst _ = require('underscore');\n\nimport Axes from './Axes';\nimport Tooltip from './Tooltip';\nimport Zoom from './Zoom';\nimport Group from './groups/Group';\nimport { InvalidGroupError } from './Errors';\n\n\nconst MINIMUM_CHART_HEIGHT = 300;\n\nclass Chart {\n  /**\n  * Chart - creates a new instance of a chart\n  *\n  * @param {object} options - the options to create a chart\n  * @param {string} containerID - the id of the container div\n  * @param {string} svgcontainerClass - the desired class of the constructed svg element\n  * @param {object} tooltip\n  * @param {number} tooltip.opacity - the background opacity for the tooltip\n  * @param {object} tooltip.template - the compiled template\n  * @param {boolean} scale - scale the svg on window resize @default false\n  * @param {boolean} resize -resize the svg on window resize @default true\n  * @return {object} returns self\n  */\n  constructor(options) {\n    this.options = options;\n    this.drawn = false;\n    this.filters = options.filters || {};\n    this.groups_ = {};\n    return this;\n  }\n\n  /**\n  * init - method to initialize the chart, allows the chart to be re-initialized\n  *  on resize while keeping the current chart data in memory\n  *\n  * @return {object} this\n  */\n  init() {\n    this.setDimensions();\n    const scale = this.options.scale || false;\n    if (scale) {\n      this.root = d3.select(`#${this.options.containerID}`).append('svg').attr('viewBox', `0 0 ${this.viewBoxWidth} ${this.viewBoxHeight}`).attr('preserveAspectRatio', 'xMinYMin meet');\n    } else {\n      this.root = d3.select(`#${this.options.containerID}`).append('svg').attr('width', this.viewBoxWidth).attr('height', this.viewBoxHeight);\n    }\n    this.container = this.root.append('g').attr('class', this.options.svgContainerClass).attr('width', this.getWidth()).attr('height', this.getHeight()).attr('transform', `translate(${this.margins.left}, ${this.margins.top})`);\n    this.axes = new Axes(this, this.options.axes);\n    this.tooltip = new Tooltip(this, this.options);\n    const zoomEnabled = this.options.zoom || false;\n    if (zoomEnabled) {\n      this.zoom = new Zoom(this, this.options);\n    }\n    this.groups = this.container.append('g').attr('class', 'd3cf-groups').attr('transform', `translate(${this.margins.left}, 0)`);\n    return this;\n  }\n\n  /**\n  * setDimensions - method to set the dimensions of the chart based on the current window\n  *\n  */\n  setDimensions() {\n    this.margins = this.options.margins || {\n      left: 40,\n      right: 20,\n      top: 20,\n      bottom: 40,\n    };\n    this.width = this.options.width || document.getElementById(this.options.containerID).offsetWidth - (this.margins.left + this.margins.right);\n    this.height = this.options.height;\n    if (this.height < MINIMUM_CHART_HEIGHT) {\n      this.height = MINIMUM_CHART_HEIGHT;\n    }\n    this.viewBoxWidth = this.width + this.margins.left + this.margins.right;\n    this.viewBoxHeight = this.height + this.margins.top + this.margins.bottom;\n    return this;\n  }\n\n  /**\n  * update - update the width and height attributes of the root and container\n  *  elements. then call update on the chart axes\n  *\n  * @param {array} nodes - an array of {object} for each node\n  * @return {object} this\n  */\n  update(nodes) {\n    this.setDimensions();\n    this.root.attr('width', this.viewBoxWidth).attr('height', this.viewBoxHeight);\n    this.container.attr('width', this.width).attr('height', this.height).attr('transform', `translate(${this.margins.left}, ${this.margins.top})`);\n    if (typeof nodes === 'undefined') {\n      this.axes.update(this.getGroupsNodes(), false);\n    } else {\n      if (nodes instanceof Array) {\n        this.axes.update(nodes, true);\n      } else {\n        this.mergeGroups(nodes);\n        this.axes.update(this.getGroupsNodes(false), true);\n      }\n    }\n    return this;\n  }\n\n  /**\n  * draw - draws the markers on the chart\n  *\n  * @see this will automatically show/hide a warning message if the data\n  * is empty. Do not call super() to override this behavior.\n  *\n  * @param {array} nodes - an array of {object} for each marker\n  */\n  draw(nodes) {\n    if (!this.drawn) {\n      this.drawn = true;\n      this.root.transition().style('opacity', 1);\n    }\n    if (typeof nodes === 'undefined') {\n      if (this.getGroupsSize() <= 0) {\n        this.showWarn();\n        return;\n      }\n    } else {\n      if (nodes instanceof Array) {\n        const group = this.defaultGroup(nodes);\n        if (group.size() <= 0) {\n          this.showWarn();\n          return;\n        }\n      } else {\n        if (this.getGroupsSize() <= 0) {\n          this.showWarn();\n          return;\n        }\n      }\n    }\n    this.removeWarn();\n  }\n\n  /**\n  * defaultGroup - creates a default group if an array is passed to the draw method\n  *\n  * @param {array} nodes - an array of Node's\n  */\n  defaultGroup() {\n    throw new Error('defaultGroup must be implemented.');\n  }\n\n  /**\n  * applyFilters - apply any filters from the chart\n  *\n  * @param {object} filters - an array of filters to apply\n  * @return {array} filtered, the filtered data\n  */\n  applyFilters(nodes, filters) {\n    const filters_ = filters || this.filters;\n    let filtered = [];\n    if (nodes) {\n      filtered = nodes.filter((d) => {\n        let valid = true;\n        const keys = Object.keys(filters_);\n        let i = 0;\n        const keysLen = keys.length;\n        while (i < keysLen) {\n          const key = keys[i++];\n          const f = filters_[key](d);\n          if (typeof f === 'undefined') {\n            valid = false;\n            break;\n          }\n        }\n        if (valid) {\n          return d;\n        }\n      });\n    }\n    return filtered;\n  }\n\n  /**\n  * getWidth\n  *\n  * @return {number} width - (excluding margins) for the root svg\n  */\n  getWidth() {\n    return this.width - (this.margins.left + this.margins.right);\n  }\n\n  /**\n  * getHeigth\n  *\n  * @return {number} width - (excluding margins) for the root svg\n  */\n  getHeight() {\n    return this.height - (this.margins.top + this.margins.bottom);\n  }\n\n  /**\n  * showWarn - shows a warning message in the center of the chart\n  *\n  * @param {string} m - the message to display\n  * @return {object} this\n  */\n  showWarn(m) {\n    const message = m || 'No data to display';\n    if (this.warn) {\n      this.removeWarn();\n    }\n    this.warn = this.container.append('g').style('opacity', 0).attr('class', 'd3cf-warn');\n    this.warn.append('text').attr('text-anchor', 'middle').attr('x', this.width / 2).attr('y', this.getHeight() / 2).text(message);\n    this.warn.transition().style('opacity', 1);\n    return this;\n  }\n\n  /**\n  * removeWarn - removes the warning message from the chart\n  *\n  * @return {object} this\n  */\n  removeWarn() {\n    if (this.warn) {\n      this.warn.remove();\n    }\n    return this;\n  }\n\n  /**\n  * remove - removes the chart from the DOM and any event listeners\n  *\n  * @return {object} this\n  */\n  remove() {\n    this.zoom.remove();\n    this.tooltip.remove();\n    this.axes.remove();\n    this.container.remove();\n    this.root.remove();\n  }\n\n  /**\n  * destroy - destroys the chart and any associated elements\n  *\n  */\n  destroy() {\n    this.remove();\n    this.zoom = null;\n    this.tooltip = null;\n    this.axes = null;\n    this.container = null;\n    this.root = null;\n    this.resizeHandler = null;\n  }\n\n  /**\n  * addGroup\n  *\n  * @param {object} group - add a group to the chart\n  * @throws {InvalidGroupError} error\n  * @return {Chart} this\n  */\n  addGroup(group) {\n    if (group instanceof Group === false) {\n      throw new InvalidGroupError();\n    }\n    this.groups_[group.id] = group;\n    return this;\n  }\n\n  /**\n  * removeGroup\n  *\n  * @param {string} id - the group to remove\n  * @return {Chart} this\n  */\n  removeGroup(id) {\n    if (this.groups_.hasOwnProperty(id)) {\n      delete this.groups_[id];\n    }\n    return this;\n  }\n\n  /**\n  * getGroups - returns the groups associated with this chart\n  *\n  * @return {array} groups - the groups associated with this chart\n  */\n  getGroups() {\n    return Object.values(this.groups_);\n  }\n\n  /**\n  * getGroups - returns the size of all the groups\n  *\n  * @param {boolean} shouldFilter - should the nodes be filtered by domain\n  * @return {Number} size - the size of all the groups\n  */\n  getGroupsSize(shouldFilter) {\n    return this.getGroups().reduce((prev, nextObj) => {\n      if (shouldFilter) {\n        return prev + this.applyFilters(nextObj.getNodes()).length;\n      }\n      const filters = Object.assign({}, this.filters);\n      if (filters.hasOwnProperty('_domain')) {\n        delete filters._domain;\n      }\n      return prev + this.applyFilters(nextObj.getNodes(), filters).length;\n    }, 0);\n  }\n\n  /**\n  * getGroupsNodes - returns all the nodes for each group\n  *\n  * @param {boolean} shouldFilter - should the nodes be filtered by domain\n  * @return {array} nodes - an array of nodes\n  */\n  getGroupsNodes(shouldFilter) {\n    return this.getGroups().reduce((prevArr, nextObj) => {\n      if (shouldFilter) {\n        return prevArr.concat(this.applyFilters(nextObj.getNodes()));\n      }\n      const filters = Object.assign({}, this.filters);\n      if (filters.hasOwnProperty('_domain')) {\n        delete filters._domain;\n      }\n      return prevArr.concat(this.applyFilters(nextObj.getNodes(), filters));\n    }, []);\n  }\n\n  /**\n  * mergeGroups - merge groups from data passed directly to the draw method\n  *\n  * @param {object} nodes - a grouping of nodes\n  */\n  mergeGroups() {\n    throw new Error('mergeGroups must be implemented.');\n  }\n\n  /**\n  * addFilter - add a filter to the chart\n  *\n  * @param {string} name - the name of the filter\n  * @param {function} fn - the function to be applied to the data\n  * @return {object} this\n  */\n  addFilter(name, fn) {\n    this.filters[name] = _.bind(fn, this);\n    return this;\n  }\n\n  /**\n  * removeFilter - removes a filter from the chart\n  *\n  * @param {string} name - the name of the filter\n  * @return {object} this\n  */\n  removeFilter(name) {\n    if (this.filters[name] !== 'undefined') {\n      delete this.filters[name];\n    }\n    return this;\n  }\n\n  /**\n  * resetZoom - resets the zoom of the axes\n  *\n  */\n  resetZoom() {\n    if (this.zoom) {\n      return this.zoom.reset();\n    }\n  }\n}\n\n\nmodule.exports = Chart;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Chart.js","const d3 = require('d3');\nconst _ = require('underscore');\n\nclass Tooltip {\n  /**\n  * Tooltip - allows for an HTML div to be faded in/out on mouseover of a marker\n  *\n  * @param {object} plot - the plot append the tooltip\n  * @param {object} options - the options for the plot\n  * @param {object} options.tooltip - the options for the tooltip\n  * @param {number} options.opacity - the opacity of the tooltip\n  * @param {object} options.template - an underscore compiled template\n  * @return {object} this\n  */\n  constructor(plot, options) {\n    this.tooltipOpts = options.tooltip || {\n      'opacity': 1,\n      'template': _.template('<span style=\"font-weight: bold;\"><%= obj.id %></span><p>x1: <%= obj.x1 %> x2: <% if (obj.x2) { %> <%= obj.x2 %> <% } %> y: <%= obj.y1 %></p>'),\n    };\n    this.template = this.tooltipOpts.template || _.template('<span style=\"font-weight: bold;\"><%= obj.id %></span><p>x1: <%= obj.x1 %> x2: <%= obj.x2 %> y: <%= obj.y1 %></p>');\n    this.opacity = this.tooltipOpts.opacity || 1;\n    this.element = d3.select('body').append('div').attr('class', 'd3cf-tooltip').style('opacity', 0).html(this.template({}));\n    return this;\n  }\n\n  /**\n  * mouseover - unbound method for mouseover event\n  *\n  * @param {object} d - the data\n  * @param {number} x - the x coordinate\n  * @param {number} y - the y coordinate\n  * @return {object} this\n  */\n  mouseover(d, x, y) {\n    const box = this.element.node().getBoundingClientRect();\n    if ((x + box.width) >= (window.innerWidth - 20)) {\n      this.element.html(this.template(d)).style('left', `${((x - 10) - Math.floor(box.width))}px`).style('top', `${y}px`);\n    } else {\n      this.element.html(this.template(d)).style('left', `${(x + 10)}px`).style('top', `${y}px`);\n    }\n    this.element.transition().duration(200).style('opacity', this.opacity);\n    return this;\n  }\n\n  /**\n  * mouseout - unbound method for mouseout event\n  *\n  * @return {object} this\n  */\n  mouseout() {\n    this.element.transition().duration(500).style('opacity', 0);\n    return this;\n  }\n\n  /**\n  * remove - removes the element from the DOM\n  *\n  */\n  remove() {\n    return this.element.remove();\n  }\n}\n\nmodule.exports = Tooltip;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Tooltip.js","const d3 = require('d3');\nconst _ = require('underscore');\n\nconst MINIMUM_ZOOM_THRESHOLD = 5;\n\nclass Zoom {\n  /**\n  * Zoom - a zoomable interface for a plot\n  *\n  * @param {object} plot - the plot to enable the zooming interface\n  * @param {object} options - the object containing the passed in options to the plot constructor\n  * @return {object} this\n  */\n  constructor(plot, options) {\n    this.plot = plot;\n    this.options = options;\n    this.bandPos = [-1, -1];\n    this.zoomArea = {\n      x1: 0,\n      y1: 0,\n      x2: 0,\n      y2: 0,\n    };\n    this.drag = d3.drag();\n    this.zoomGroup = plot.container.append('g').attr('class', 'd3cf-zoom');\n    this.zoomBand = this.zoomGroup.append('rect').attr('width', 0).attr('height', 0).attr('x', 0).attr('y', 0).attr('class', 'd3cf-zoomBand');\n    this.zoomOverlay = this.zoomGroup.append('rect').attr('width', plot.getWidth()).attr('height', plot.getHeight()).attr('transform', `translate(${plot.margins.left}, 0)`).attr('class', 'd3cf-zoomOverlay').call(this.drag);\n    this.isZoomed = false;\n    const self = this; // eslint-disable-line consistent-this\n    this.drag.on('start.plot', function() { // eslint-disable-line func-names\n      // Note: @ (this) is not the Zoom class but the DOM event\n      const pos = d3.mouse(this); // eslint-disable-line no-invalid-this\n      self.dragStart = pos;\n    });\n    this.drag.on('drag.plot', function() { // eslint-disable-line func-names\n      // Note: @ (this) is not the Zoom class but the DOM event\n      const pos = d3.mouse(this); // eslint-disable-line no-invalid-this\n      _.bind(self.ondrag, self)(pos);\n    });\n    this.drag.on('end.plot', function() { // eslint-disable-line func-names\n      // Note: @ (this) is not the Zoom class but the DOM event\n      const pos = d3.mouse(this); // eslint-disable-line no-invalid-this\n      let zoomX = false;\n      if (Math.abs(self.dragStart[0] - pos[0]) > MINIMUM_ZOOM_THRESHOLD) {\n        zoomX = true;\n      }\n      let zoomY = false;\n      if (Math.abs(self.dragStart[1] - pos[1]) > MINIMUM_ZOOM_THRESHOLD) {\n        zoomY = true;\n      }\n      _.bind(self.ondragend, self)(pos, zoomX && zoomY);\n    });\n  }\n\n  /*\n  * ondrag - the event handler for the ondrag event\n  * @param {array} pos, the x,y position of the mouse\n  */\n  ondrag(pos) {\n    if (pos[0] < this.bandPos[0]) {\n      this.zoomBand.attr('transform', `translate(${(pos[0] + this.plot.margins.left)}, ${this.bandPos[1]})`);\n    }\n    if (pos[1] < this.bandPos[1]) {\n      this.zoomBand.attr('transform', `translate(${(pos[0] + this.plot.margins.left)}, ${pos[1]})`);\n    }\n    if (pos[1] < this.bandPos[1] && pos[0] > this.bandPos[0]) {\n      this.zoomBand.attr('transform', `translate(${(this.bandPos[0] + this.plot.margins.left)}, ${pos[1]})`);\n    }\n    if (this.bandPos[0] === -1) {\n      this.bandPos = pos;\n      this.zoomBand.attr('transform', `translate(${(this.bandPos[0] + this.plot.margins.left)}, ${this.bandPos[1]})`);\n    }\n    this.zoomBand.transition().duration(1).attr('width', Math.abs(this.bandPos[0] - pos[0])).attr('height', Math.abs(this.bandPos[1] - pos[1]));\n  }\n\n  /**\n  * ondragend - the event handler for the ondragend event\n  *\n  * @param {array} pos - the x,y position of the mouse\n  */\n  ondragend(pos, zoom) {\n    const x1 = this.plot.axes.xScale.invert(this.bandPos[0]);\n    const x2 = this.plot.axes.xScale.invert(pos[0]);\n    if (x1 < x2) {\n      this.zoomArea.x1 = x1;\n      this.zoomArea.x2 = x2;\n    } else {\n      this.zoomArea.x1 = x2;\n      this.zoomArea.x2 = x1;\n    }\n    const y1 = this.plot.axes.yScale.invert(pos[1]);\n    const y2 = this.plot.axes.yScale.invert(this.bandPos[1]);\n    if (y1 < y2) {\n      this.zoomArea.y1 = y1;\n      this.zoomArea.y2 = y2;\n    } else {\n      this.zoomArea.y1 = y2;\n      this.zoomArea.y2 = y1;\n    }\n    this.bandPos = [-1, -1];\n    this.zoomBand.transition().attr('width', 0).attr('height', 0).attr('x', this.bandPos[0]).attr('y', this.bandPos[1]);\n    if (zoom) {\n      this.zoom();\n    }\n  }\n\n  /**\n  * zoom - the zooming method called an the end of ondragend\n  *\n  */\n  zoom() {\n    this.isZoomed = true;\n    this.plot.axes.zoom(this.zoomArea);\n    this.plot.draw();\n  }\n\n  /**\n  * resetZoom - reset the plot zoom back to the original viewBox\n  *\n  */\n  reset() {\n    this.isZoomed = false;\n    this.plot.axes.reset();\n    this.plot.draw();\n  }\n\n  /**\n  * remove - remove the zoom interface from a plot\n  *\n  */\n  remove() {\n    this.zoomGroup.remove();\n    this.drag.on('drag.plot', null);\n    this.drag.on('end.plot', null);\n    this.drag.on('start.plot', null);\n  }\n}\n\n\nmodule.exports = Zoom;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Zoom.js","const _ = require('underscore');\n\nimport Chart from './Chart';\nimport NodeGroup from './groups/NodeGroup';\n\n\nclass ScatterPlot extends Chart {\n  /**\n  * ScatterPlot - constructs the root SVG element to contain the ScatterPlot\n  *\n  * @param {object} options - the options to create a ScatterPlot\n  * @param {string} containerID - the id of the ScatterPlot container div\n  * @param {string} svgcontainerClass - the desired class of the constructed svg element\n  * @param {object} tooltip\n  * @param {number} tooltip.opacity - the background opacity for the tooltip\n  * @param {object} tooltip.template - the compiled template\n  * @param {boolean} scale - scale the svg on window resize @default false\n  * @param {boolean} resize - resize the svg on window resize @default true\n  * @returns {object} this - returns self\n  */\n  constructor(options) {\n    super(options);\n    this.init();\n    return this;\n  }\n\n  /**\n  * init - method to set/re-set the resizeHandler\n  *\n  * @returns {object} this\n  */\n  init() {\n    super.init();\n    const resizeEnabled = this.options.resize || true;\n    if (resizeEnabled) {\n      this.resizeHandler = _.debounce(_.bind(this.resize, this), 500);\n      return window.addEventListener('resize', this.resizeHandler);\n    }\n  }\n\n  /**\n  * draw - draw using d3 select.data.enter workflow\n  *\n  * @param {array} data - an array of {object} for each marker\n  * @returns {object} this\n  */\n  draw(data) {\n    super.draw(data);\n    const groups = this.groups.selectAll('.group').data(this.getGroups(), (d) => {\n      return d.id;\n    });\n    groups.enter().append((group) => {\n      return group.detached();\n    });\n    groups.each((group) => {\n      return group.update();\n    });\n    groups.exit().remove();\n    return this;\n  }\n\n  /**\n  * defaultGroup - creates a default group if an array is passed to the draw method\n  *\n  * @param {array} nodes - an array of Node's\n  */\n  defaultGroup(nodes) {\n    let group = this.getGroups().find((g) => {\n      return g.id === 'default_';\n    });\n    if (typeof group === 'undefined') {\n      if (this.options.group && this.options.group.onEnter) {\n        group = new NodeGroup(this, {id: 'default_', onEnter: this.options.group.onEnter});\n      } else {\n        group = new NodeGroup(this, {id: 'default_'});\n      }\n    }\n    nodes.forEach((d) => {\n      return group.addNode(d);\n    });\n    return group;\n  }\n\n  /**\n  * mergeGroups - merge groups from data passed directly to the draw method\n  *\n  * @param {object} groups - a set of Groups\n  * @return {boolean} shouldReset - should the axes domain be reset to currentMinMax\n  */\n  mergeGroups(groups) {\n    const notMerged = Object.keys(this.groups_);\n    let addedNewGroup = false;\n    Object.keys(groups).forEach((k) => {\n      let idx = -1;\n      let group = this.groups_[k];\n      if (typeof group === 'undefined') {\n        addedNewGroup = true;\n        if (groups[k] instanceof NodeGroup) {\n          group = groups[k];\n          this.addGroup(group);\n        } else {\n          // TODO: allow the user to pass in an object with `data` array\n          throw new Error('Must be instance of a d3cf Group.');\n        }\n      } else {\n        idx = notMerged.indexOf(k);\n        if (idx >= 0) {\n          notMerged.splice(idx, 1);\n          // merge new group data into the existing group\n          groups[k].getNodes().forEach((n) => {\n            group.addNode(n);\n          });\n        }\n      }\n    });\n    // remove the groups that have not been sliced\n    if (notMerged.length > 0) {\n      notMerged.forEach((k) => {\n        this.removeGroup(k);\n      });\n      // if we have removed an existing group from the plot\n      // then we should set the axes to the currentMinMax\n      return true;\n    }\n    // if we have merged in new groups and the axes have been initialized\n    // then we should set the axes to the currentMinMax\n    if (addedNewGroup && this.axes.initialized === true) {\n      return true;\n    }\n    // do not set the axes\n    return false;\n  }\n\n  /**\n  * update the dimensions of the plot (axes, gridlines, then redraw)\n  *\n  * @param {array} data - an array of {object} for each marker\n  * @returns {object} this\n  */\n  update(data) {\n    super.update(data);\n    this.draw(data);\n    return this;\n  }\n\n  /**\n  * remove - removes the plot from the DOM and any event listeners\n  *\n  * @return {object} this\n  */\n  remove() {\n    if (this.resizeHandler) {\n      window.removeEventListener('resize', this.resizeHandler);\n    }\n    return this;\n  }\n\n  /**\n  * resize - re-renders the plot\n  *\n  * @return {object} this\n  */\n  resize() {\n    this.update();\n    return this;\n  }\n\n  /*\n  * resetZoom - resets the zoom of the axes\n  *\n  */\n  resetZoom() {\n    if (this.zoom) {\n      return this.zoom.reset();\n    }\n  }\n}\n\n\nmodule.exports = ScatterPlot;\n\n\n\n// WEBPACK FOOTER //\n// ./src/ScatterPlot.js","const _ = require('underscore');\n\nimport Chart from './Chart';\nimport LineGroup from './groups/LineGroup';\n\n\nclass LineChart extends Chart {\n  /**\n  * LineChart - constructs the root SVG element to contain the LineChart\n  * @param {object} options, the options to create a LineChart\n  * @param {string} containerID, the id of the LineChart container div\n  * @param {string} svgcontainerClass, the desired class of the constructed svg element\n  * @param {object} tooltip,\n  * @param {number} tooltip.opacity, the background opacity for the tooltip\n  * @param {object} tooltip.template, the compiled template\n  * @param {boolean} scale, scale the svg on window resize @default false\n  * @param {boolean} resize, resize the svg on window resize @default true\n  * @returns {object} this, returns self\n  */\n  constructor(options) {\n    super(options);\n    this.init();\n    return this;\n  }\n\n  /**\n  * init - method to set/re-set the resizeHandler\n  * @returns {object} this\n  */\n  init() {\n    super.init();\n    const resizeEnabled = this.options.resize || true;\n    if (resizeEnabled) {\n      this.resizeHandler = _.debounce(_.bind(this.resize, this), 500);\n      return window.addEventListener('resize', this.resizeHandler);\n    }\n  }\n\n  /**\n  * draw - draw using d3 select.data.enter workflow\n  * @param {array} data, an array of {object} for each marker\n  * @returns {object} this\n  */\n  draw(data) {\n    super.draw(data);\n    const groups = this.groups.selectAll('.group').data(this.getGroups(), (d) => {\n      return d.id;\n    });\n    groups.enter().append((group) => {\n      return group.detached();\n    });\n    groups.each((group) => {\n      return group.update();\n    });\n    groups.exit().remove();\n    return this;\n  }\n\n  /**\n  * defaultGroup - creates a default group if an array is passed to the draw method\n  * @param {array} nodes, an array of Node's\n  */\n  defaultGroup(nodes) {\n    let group = this.getGroups().find((g) => {\n      return g.id === 'default_';\n    });\n    if (typeof group === 'undefined') {\n      if (this.options.group && this.options.group.onEnter) {\n        group = new LineGroup(this, {id: 'default_', onEnter: this.options.group.onEnter});\n      } else {\n        group = new LineGroup(this, {id: 'default_'});\n      }\n    }\n    nodes.forEach((d) => {\n      return group.addNode(d);\n    });\n    return group;\n  }\n\n  /**\n  * mergeGroups - merge groups from data passed directly to the draw method\n  * @override\n  * @param {object} groups, a set of Groups\n  * @return {boolean} hasChanged\n  */\n  mergeGroups(groups) {\n    const notMerged = Object.keys(this.groups_);\n    let addedNewGroup = false;\n    Object.keys(groups).forEach((k) => {\n      let idx = -1;\n      let group = this.groups_[k];\n      if (typeof group === 'undefined') {\n        addedNewGroup = true;\n        if (groups[k] instanceof LineGroup) {\n          group = groups[k];\n          this.addGroup(group);\n        } else {\n          // TODO: allow the user to pass in an object with `data` array\n          throw new Error('Must be instance of a d3cf Group.');\n        }\n      } else {\n        idx = notMerged.indexOf(k);\n        if (idx >= 0) {\n          notMerged.splice(idx, 1);\n          // merge new group data into the existing group\n          groups[k].getNodes().forEach((n) => {\n            group.addNode(n);\n          });\n        }\n      }\n    });\n    // remove the groups that have not been sliced\n    if (notMerged.length > 0) {\n      notMerged.forEach((k) => {\n        this.removeGroup(k);\n      });\n      // if we have removed an existing group\n      return true;\n    }\n    // if we have merged in new groups\n    if (addedNewGroup) {\n      return true;\n    }\n    // otherwise no change\n    return false;\n  }\n\n  /**\n  * update the dimensions of the chart (axes, gridlines, then redraw)\n  * @param {array} data, an array of {object} for each marker\n  * @returns {object} this\n  */\n  update(data) {\n    super.update(data);\n    this.draw(data);\n    return this;\n  }\n\n  /**\n  * remove - removes the chart from the DOM and any event listeners\n  * @return {object} this\n  */\n  remove() {\n    super.remove();\n    if (this.resizeHandler) {\n      window.removeEventListener('resize', this.resizeHandler);\n    }\n    return this;\n  }\n\n  /**\n  * resize - re-renders the chart\n  * @return {object} this\n  */\n  resize() {\n    this.update();\n    return this;\n  }\n}\n\n\nmodule.exports = LineChart;\n\n\n\n// WEBPACK FOOTER //\n// ./src/LineChart.js"],"sourceRoot":""}